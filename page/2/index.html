<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/favcion.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha256-CTSx/A06dm1B063156EVh15m6Y67pAjZZaQc89LLSrU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"misayaas.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.18.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="万头攒动，火树银花之处不必寻我">
<meta property="og:type" content="website">
<meta property="og:title" content="Misayaas">
<meta property="og:url" content="https://misayaas.github.io/page/2/index.html">
<meta property="og:site_name" content="Misayaas">
<meta property="og:description" content="万头攒动，火树银花之处不必寻我">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="花花花铃">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://misayaas.github.io/page/2/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/2/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Misayaas</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Misayaas</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/%20/%20fa%20fa-home" rel="section">首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="花花花铃"
      src="/images/avater.jpg">
  <p class="site-author-name" itemprop="name">花花花铃</p>
  <div class="site-description" itemprop="description">万头攒动，火树银花之处不必寻我</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">29</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://misayaas.github.io/2023/11/21/%E6%97%A5%E8%AE%B0%E2%80%94%E2%80%94%E4%BD%A0%E6%9B%BE%E6%98%AF%E5%B0%91%E5%B9%B4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.jpg">
      <meta itemprop="name" content="花花花铃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Misayaas">
      <meta itemprop="description" content="万头攒动，火树银花之处不必寻我">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Misayaas">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/21/%E6%97%A5%E8%AE%B0%E2%80%94%E2%80%94%E4%BD%A0%E6%9B%BE%E6%98%AF%E5%B0%91%E5%B9%B4/" class="post-title-link" itemprop="url">你曾是少年</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-11-21 16:33:54 / 修改时间：16:35:07" itemprop="dateCreated datePublished" datetime="2023-11-21T16:33:54+08:00">2023-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%89%80%E5%BF%B5/" itemprop="url" rel="index"><span itemprop="name">所念</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.5k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>2023.11.19晚，比赛还未结束，也许是暂时还没结束，但是我已经绝望地合上电脑，走出待了四个小时的教室</p>
<blockquote>
<p>我的手臂伤势恢复一直不错，我可以继续比赛，不过休息不是件坏事，我会考虑我的下一步选择<br>——the shy赛后采访</p>
</blockquote>
<p>其实走出来的那个时候，外面的冷风倒是没那么的刺，依稀记得，那个时候我脑海里的是：</p>
<blockquote>
<p>明凯你不要退役啊<br>——女粉丝</p>
</blockquote>
<p>小时候不懂得这一切背后的意义，只是单纯觉得：“有必要吗？不就是一场比赛而已。”</p>
<blockquote>
<p>shy哥你不要退役啊<br>——我的内心</p>
</blockquote>
<p>现在我上大学了，似乎懂得了一点点这份英雄暮年的无奈，也许会有一些素不相识的小孩疑惑着：“有必要吗？不就是一场比赛而已。”</p>
<p><strong>年少时射出的一颗子弹，经过多年，正中眉心</strong></p>
<p>虽然很不想承认，但是这轮比赛完完全全地让宙斯登上了上路的王座，不再年轻的你看着意气风发的宙斯，会不会满眼都是18岁的自己</p>
<p>我想啊，初二那年如果我没有看你的比赛，这几天也不会有如此感触吧</p>
<p>从8强开始看的比赛，或许不能算什么真正的粉丝，毕竟自我小学开始玩LOL的时候，冠军总是被faker斩获，因此总是对所谓的比赛提不起多大兴趣，但是你真的让我对早已失去的LOL职业比赛重燃信心</p>
<p>同样的上单位，你让我明白了原来可以这么玩游戏，原来可以这么压制，原来可以$\cdots \:\cdots$</p>
<p>虽然上了高中后再也没有时间玩LOL了，但是在难得的两周一天的回家时间，在凌晨，我还是愿意打开你的直播间，看你rank，甚至是看你吃夜宵，我想那些日子我应该也挺开心吧</p>
<p>后来啊，你被人们说靠小虎抬进的世界赛，被人们说瑞士轮1：2闹麻了，被人们嘲笑上限冠军，被人们说打个欧美弱鸡闹麻了，被人们说抽签组闹麻了，被人们说打个BLG闹麻了，直到一步步走到首尔，走到最大的舞台$\cdots \:\cdots$</p>
<p>而我看到的是，早已下坡的你一次次挽狂澜于既倒，扶大厦于将倾，直到决赛之前，你的世界赛表现堪称完美，甚至是让人看到了IG.The Shy的身影，因此我更加相信，你在今年拥有一个美满的结局</p>
<blockquote>
<p>The Shy向上天祈祷，回应他的只有18年的自己<br>——虎扑评论</p>
</blockquote>
<p>这样的评论，几乎在决赛前的每一局都能出现，我也那么以为，登神的剧本描述的是你，我们万分期待着，四号种子掀翻T1的剧情再次上演</p>
<p>决赛时候我看BP过程的担心，还是应验了：</p>
<ul>
<li><p>三楼出剑魔的话宙斯会出永恩</p>
</li>
<li><p>塞拉斯不ban不能拿大树</p>
</li>
</ul>
<p>毋庸置疑faker的表现无可挑剔，也许他生来就是LOL这个故事的主角：主角在年少时拿下三连冠，后来沉寂许久，最后在自己第10年职业生涯拿下第四个冠军。一切看起来都那么完美，但是啊，<strong>我不是主角的粉丝</strong>，我好像永远被困在18年的仁川了，这次shy哥还是没能把我们带回家，也许再也没有机会了</p>
<p>晚上路过茶百道的时候，wjy问我：“你还想喝橙露啵啵吗？”我苦笑了一阵，一时也说不出话来。但其实啊，不管你拿不拿得到这个冠军，我都只是<strong>希望能看你多打几局比赛</strong>，这对我来说就是已经足够了</p>
<p>现在看来，我一个星期前梦中WBG 2 : 0 T1的梦境显得那么荒谬，但是无论无论怎么样，我全程看完今年世界赛的眼睛告诉我你发挥已经极致</p>
<blockquote>
<p>下山的路太吵了，我听不见<br>——网友</p>
</blockquote>
<p>故事的开始：</p>
<blockquote>
<p>基地来了个孩子，他的锐雯在天上飞</p>
</blockquote>
<p>故事的尾声：</p>
<blockquote>
<p>很可惜走到决赛却输了，更可惜的是我觉得我年纪大了，如果我再年轻一点是不是可以过更精彩的人生<br>——the shy赛后采访</p>
</blockquote>
<p>我想啊，如果身体还允许的话，能不能再让我看你一年，不奢求能走到多远了，只希望你开开心心地结束自己作为选手的生涯。你的少年时期，已经看过山上的风景，这段路，已经足够伟大</p>
<blockquote>
<p>许多年前，你有一双清澈的双眼<br>奔跑起来，就像一道春天的闪电<br>——焦迈奇《你曾是少年》</p>
</blockquote>
<p>我明白时光不能倒转，但是我还是很怀念我的初二，很怀念我初识你的时候，一切都能重新来过</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://misayaas.github.io/2023/11/21/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97%E2%80%94%E2%80%94DHCP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.jpg">
      <meta itemprop="name" content="花花花铃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Misayaas">
      <meta itemprop="description" content="万头攒动，火树银花之处不必寻我">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Misayaas">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/21/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97%E2%80%94%E2%80%94DHCP/" class="post-title-link" itemprop="url">DHCP</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-11-21 00:52:38 / 修改时间：00:53:00" itemprop="dateCreated datePublished" datetime="2023-11-21T00:52:38+08:00">2023-11-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/" itemprop="url" rel="index"><span itemprop="name">互联网计算</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>动态主机配置协议DHPC服务器可以是服务器</p>
<ol>
<li>一个协议软件在使用前先作正确协议配置，具体配置内容取决于协议</li>
</ol>
<ol>
<li><p>连接到因特网的计算机协议软件需要配置的项目：</p>
<ul>
<li><p>IP地址</p>
</li>
<li><p>子网掩码</p>
</li>
<li><p>默认路由器的IP地址</p>
</li>
<li><p>域名服务器的IP地址</p>
</li>
</ul>
</li>
<li><p><strong>DHCP可以高效地分配IP地址</strong></p>
<ul>
<li><p>局域网的网络协议</p>
</li>
<li><p>使用UDP来实现</p>
</li>
</ul>
</li>
</ol>
<h2 id="DHCP报文类型"><a href="#DHCP报文类型" class="headerlink" title="DHCP报文类型"></a>DHCP报文类型</h2><ul>
<li><p><strong>DHCP Discoevr</strong>：发现</p>
</li>
<li><p><strong>DHCP Offer</strong>：提供</p>
</li>
<li><p><strong>DHCP Request</strong>：告知决定</p>
</li>
<li><p><strong>DHCP ACK</strong>：租约确认</p>
</li>
<li><p><strong>DHCP NCK</strong>：租约不确认</p>
</li>
<li><p><strong>DHCP Release</strong>：释放租约</p>
</li>
<li><p><strong>DHCP Decline</strong>：收到ACK后，Client告诉服务器不接受</p>
</li>
<li><p><strong>DHCP Inform</strong>：客户端向服务器端请求详细信息</p>
</li>
</ul>
<h2 id="DHCP报文结构"><a href="#DHCP报文结构" class="headerlink" title="DHCP报文结构"></a>DHCP报文结构</h2><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/23-1676528328433-435.png" alt=""></p>
<ol>
<li><p><strong>OP</strong>：报文类型</p>
<ul>
<li>1请求，2应答</li>
</ul>
</li>
<li><p><strong>HTYPE</strong>：硬件地址类型</p>
</li>
</ol>
<ul>
<li>1表示10M以太网地址</li>
</ul>
<ol>
<li><p><strong>HLEN</strong>：以太网地址长度</p>
<ul>
<li>10M为6</li>
</ul>
</li>
<li><p><strong>Hops</strong>：是否使用代理服务器进行处理</p>
</li>
</ol>
<h2 id="DHCP过程"><a href="#DHCP过程" class="headerlink" title="DHCP过程"></a>DHCP过程</h2><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/16-1676528328433-428.png" alt=""></p>
<ol>
<li><p>Client先<strong>广播</strong>Discover报文，然后Server返回一个Offer报文</p>
</li>
<li><p>Client选择<strong>优先返回</strong>的Offer来优先服务</p>
</li>
<li><p>Client广播Request报文，告知到底谁服务了谁，然后Server返回一个ACK报文</p>
</li>
<li><p>时间到了之后可以选择Release或者续租</p>
</li>
</ol>
<p><strong>A和B的信息不对称不同步</strong></p>
<ul>
<li><p>局域网的地址B分配完成了而A不知道</p>
</li>
<li><p><strong>广播里面会携带分配的地址信息，告知A进行同步</strong></p>
</li>
</ul>
<h3 id="发现阶段"><a href="#发现阶段" class="headerlink" title="发现阶段"></a>发现阶段</h3><p>广播携带的地址是<strong>MAC地址</strong></p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec06/17.png" alt=""></p>
<h3 id="响应阶段"><a href="#响应阶段" class="headerlink" title="响应阶段"></a>响应阶段</h3><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec06/18.png" alt=""></p>
<h3 id="选择阶段"><a href="#选择阶段" class="headerlink" title="选择阶段"></a>选择阶段</h3><p>所有的Server进行<strong>同步</strong></p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec06/19.png" alt=""></p>
<h3 id="租约确认阶段"><a href="#租约确认阶段" class="headerlink" title="租约确认阶段"></a>租约确认阶段</h3><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec06/20.png" alt=""></p>
<h3 id="租期续约"><a href="#租期续约" class="headerlink" title="租期续约"></a>租期续约</h3><p>在租期中，DHCP Client直接向为其提供IP地址的DHCP Server发送DHCP Request消息，收到回应的DHCP ACK消息后，<strong>DHCP Client根据所提供的新的租期以及其它更新的TCP/IP参数更新自己的配置</strong></p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec06/21.png" alt=""></p>
<h3 id="租期释放"><a href="#租期释放" class="headerlink" title="租期释放"></a>租期释放</h3><p>当DHCP Client不再需要使用分配IP地址时，就会<strong>主动</strong>向DHCP Server发送Realease报文，DHCP Server会释放被绑定的租期</p>
<ul>
<li>到时间后Server会主动询问，<strong>没有应答会自动释放</strong></li>
</ul>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2020-Internet-computing/img/lec06/22.png" alt=""></p>
<h2 id="DHCP欺骗及防范"><a href="#DHCP欺骗及防范" class="headerlink" title="DHCP欺骗及防范"></a>DHCP欺骗及防范</h2><h3 id="欺骗原理"><a href="#欺骗原理" class="headerlink" title="欺骗原理"></a>欺骗原理</h3><p><strong>非授权</strong>的DHCP服务器先应答，客户端最后获得的网络参数即是非授权的</p>
<ul>
<li>恶意服务器把自己作为默认网关</li>
</ul>
<p>在实际应用DHCP的网络中，基本上都会采用<strong>DHCP中继</strong>，因此<u>本网络的非授权DHCP服务器一般都会先于其余网络的授权DHCP服务器的应答</u></p>
<ul>
<li>网络传输有延迟</li>
</ul>
<h3 id="欺骗攻击"><a href="#欺骗攻击" class="headerlink" title="欺骗攻击"></a>欺骗攻击</h3><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/24-1676528328434-436.png" alt=""></p>
<ol>
<li><p>首先PC发出请求</p>
</li>
<li><p>然后将DHCP请求发送出去</p>
</li>
<li><p>伪装者收到后，DHCP伪装者给出应答</p>
</li>
</ol>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/25-1676528328434-437.png" alt=""></p>
<ol>
<li><p>DHCP Server也会给出应答，但是可能比伪装者慢</p>
</li>
<li><p>这样子A收到的就是伪装者的报文</p>
</li>
</ol>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/26-1676528328434-438.png" alt=""></p>
<ol>
<li><p>A发出去的网关就是B，所以A上网的请求就发送给B，B转发给默认网关上网，然后返回信息给B</p>
</li>
<li><p>B再把返回的信息给A</p>
</li>
<li><p><strong>很隐蔽的安全问题</strong></p>
</li>
<li><p>除了服务器不应该启动DHCP进程</p>
</li>
</ol>
<h3 id="DHCP欺骗防范"><a href="#DHCP欺骗防范" class="headerlink" title="DHCP欺骗防范"></a>DHCP欺骗防范</h3><p>在交换机上启用DHCP Snooping功能DHCP Snooping技术通过建立和维护DHCP Snooping绑定表过滤不可信任的DHCP信息：比如B的DHCP不能通过认证，交换机拒绝进行转发</p>
<ol>
<li><p>在交换机的全局配置模式启用DHCP Snooping：</p>
<p> <code>switch (config) # ip dncp snooping</code></p>
</li>
<li><p>在交换机的全局配置模式中开启需要启用DHCP Snooping的VLAN：</p>
<p> <code>switch (config) # ip dhcp snooping vlan vlan号</code></p>
</li>
<li><p>在端口配置子模式中将授权DHCP服务器所连的端口设为新人端口（缺省都是非信任的端口）：就是连接到DHCP Server的端口：</p>
<p> <code>switch (config-if) # ip dhcp snooping trust</code></p>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://misayaas.github.io/2023/11/20/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97%E2%80%94%E2%80%94%E5%BA%94%E7%94%A8%E5%B1%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.jpg">
      <meta itemprop="name" content="花花花铃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Misayaas">
      <meta itemprop="description" content="万头攒动，火树银花之处不必寻我">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Misayaas">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/20/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97%E2%80%94%E2%80%94%E5%BA%94%E7%94%A8%E5%B1%82/" class="post-title-link" itemprop="url">应用层</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-11-20 15:38:11 / 修改时间：15:42:37" itemprop="dateCreated datePublished" datetime="2023-11-20T15:38:11+08:00">2023-11-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/" itemprop="url" rel="index"><span itemprop="name">互联网计算</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="会话层-Session"><a href="#会话层-Session" class="headerlink" title="会话层(Session)"></a>会话层(Session)</h2><p>如果用户想要完成一定的数据控制，就会对应在会话层完成</p>
<ul>
<li>TCP控制传输</li>
</ul>
<h3 id="职责"><a href="#职责" class="headerlink" title="职责"></a>职责</h3><ol>
<li><p>基于令牌进行交互发言，通过数据同步保证数据完整性</p>
</li>
<li><p>进行数据分段、拼接、保证传输的有效</p>
</li>
<li><p>同步技术，保证故障恢复</p>
</li>
</ol>
<h3 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h3><ol>
<li><p>同步：</p>
<ul>
<li><p>全双工通信</p>
</li>
<li><p>半双工通信</p>
</li>
<li><p>单工通信</p>
</li>
</ul>
</li>
<li><p>控制：</p>
<ul>
<li><p>会话连接、活动开始、数据校验</p>
</li>
<li><p><strong>令牌转换</strong></p>
</li>
</ul>
</li>
</ol>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/image-20220625162632968.png" alt=""></p>
<p><strong>同步点(CheckPoint)</strong>用于分割对话的各个部分</p>
<ul>
<li><p>同步点：发送一定数据后设置同步点</p>
</li>
<li><p>次同步点：作为同步点的一个子集，进行数据校验</p>
</li>
<li><p>主同步点：按照主同步点进行校验确认</p>
</li>
<li><p><strong>如果错误，恢复到上次已经同步的主同步点</strong></p>
</li>
</ul>
<p><strong>对话分离(Seperation)</strong>是通信的有序启动、终止和管理，尽量保证了通话的效率和可靠性</p>
<h3 id="设备"><a href="#设备" class="headerlink" title="设备"></a>设备</h3><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/image-20220625162646725.png" alt=""></p>
<p>客户端-服务器模式(Client-Server)：通过会话实现</p>
<h2 id="表示层-Presentation"><a href="#表示层-Presentation" class="headerlink" title="表示层(Presentation)"></a>表示层(Presentation)</h2><p>负责以<strong>接收设备可以理解</strong>的形式表示数据</p>
<ul>
<li><p>传输语法协商</p>
</li>
<li><p>接受语法协商</p>
</li>
</ul>
<p><strong>协商编码方式可以在会话层中实现</strong></p>
<ul>
<li>解决不同的底层操作系统编码方式不同的问题，以防造成误解</li>
</ul>
<p><strong>主要功能</strong>：</p>
<ul>
<li><p>数据格式化(format)</p>
</li>
<li><p>数据压缩(compression)</p>
</li>
<li><p>数据加密(encryption)</p>
</li>
</ul>
<h3 id="数据格式化"><a href="#数据格式化" class="headerlink" title="数据格式化"></a>数据格式化</h3><p><strong>选择大家都能识别的编码形式传输</strong>，保证大家都能理解</p>
<ul>
<li>提供了不同类型的代码之间的转换</li>
</ul>
<p>数据格式类型：</p>
<ol>
<li><p><strong>图形文件格式：</strong></p>
<ul>
<li><p><strong>图形交换格式GIF</strong>(Graphic Interchange Format)</p>
</li>
<li><p><strong>联合图像专家组JPEG</strong>(Joint Photographic Experts Group)</p>
</li>
</ul>
</li>
<li><p><strong>多媒体文件格式：</strong></p>
</li>
</ol>
<p>多媒体文件格式存储声音、音乐和视频</p>
<h3 id="数据加密与压缩"><a href="#数据加密与压缩" class="headerlink" title="数据加密与压缩"></a>数据加密与压缩</h3><p>数据加密可在信息传输过程中保护信息</p>
<h2 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h2><p>OSI模型各层对应的一些协议：</p>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/image-20220625162715190.png" alt=""></p>
<ul>
<li><p>第六层对应了各种协议，第七层对应了应用界面</p>
</li>
<li><p>第七层最接近用户，<strong>支持应用程序的通信组件</strong></p>
</li>
</ul>
<h3 id="职责-1"><a href="#职责-1" class="headerlink" title="职责"></a>职责</h3><ul>
<li><p>确定并确定预期的通信合作伙伴的可用性</p>
</li>
<li><p>同步合作的应用程序</p>
</li>
<li><p>同步协作的应用</p>
</li>
<li><p>建立有关错误恢复程序的协议</p>
</li>
<li><p>控制数据完整性</p>
</li>
<li><p><u>通过网络应用为OSI模型的其余部分提供一个直接接口，或是通过独立应用程序提供非直接接口，如<strong>文字处理、电子表格、演示管理器、网络重定向器</strong></u></p>
</li>
</ul>
<h3 id="超文本传输协议HTTP"><a href="#超文本传输协议HTTP" class="headerlink" title="超文本传输协议HTTP"></a>超文本传输协议HTTP</h3><p>HTTP是<strong>面向事务</strong>(transaction-orient)的客户服务器协议</p>
<p>HTTP 1.0协议是<strong>无状态</strong>的(stateless)</p>
<ul>
<li><p>每一次请求都是独立的，不记录上一次登陆的信息</p>
</li>
<li><p>Cookie是征求同意的存储（<strong>维持登陆状态</strong>）</p>
</li>
</ul>
<p>HTTP协议本身是<strong>无连接</strong>的，虽然它使用了面向连接的TCP向上提供的服务</p>
<p>万维网浏览器就是一个HTTP客户，而在万维网服务器等待HTTP请求的进程称为<strong>HTTP daemon</strong>，也称为<strong>HTTPD</strong></p>
<ul>
<li>HTTP daemon收到HTTP客户的请求后，把所需的文件返回给HTTP客户</li>
</ul>
<h4 id="HTTP报文结构（请求报文）"><a href="#HTTP报文结构（请求报文）" class="headerlink" title="HTTP报文结构（请求报文）"></a>HTTP报文结构（请求报文）</h4><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/image-20230721112122865.png" alt=""></p>
<p>HTTP报文主要由<u>开始行、首部行和实体主体</u>组成</p>
<ul>
<li><p>在请求报文中，开始行就是请求行</p>
</li>
<li><p>请求报文和应答报文的应答结构都是一样的</p>
<ol>
<li><p>2xx：<strong>成功</strong></p>
</li>
<li><p>3xx：<strong>重定向</strong></p>
</li>
<li><p>4xx：<strong>失败</strong></p>
</li>
<li><p>5xx：<strong>服务器内部错误</strong>（不是客户端请求的错误）</p>
</li>
</ol>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>OPTION</td>
<td>请求一些选项的信息</td>
</tr>
<tr>
<td>GET</td>
<td>请求读取由URL所标志的信息</td>
</tr>
<tr>
<td>HEAD</td>
<td>请求读取由URL所标志的信息的首部</td>
</tr>
<tr>
<td>POST</td>
<td>给服务器添加信息</td>
</tr>
<tr>
<td>PUT</td>
<td>在指明的URL下存储一个文档</td>
</tr>
<tr>
<td>DELETE</td>
<td>删除指明的URL所标志的资源</td>
</tr>
<tr>
<td>TRACE</td>
<td>用来进行换回测试的请求报文</td>
</tr>
<tr>
<td>CONNECT</td>
<td>用于代理服务器</td>
</tr>
</tbody>
</table>
</div>
<h4 id="统一资源定位符URL"><a href="#统一资源定位符URL" class="headerlink" title="统一资源定位符URL"></a>统一资源定位符URL</h4><p>URL是对可以从因特网上得到的资源的位置和访问方法的一种简洁的表示</p>
<ul>
<li><p><u>URL给资源的位置提供一种抽象的识别方法，并用这种方法给资源定位</u></p>
</li>
<li><p>URL相当于一个文件名在网络范围的拓展，是<strong>与因特网相连的机器上的任何可访问对象的一个指针</strong></p>
</li>
</ul>
<p>URL一般由以下四个部分组成：</p>
<p><strong>&lt;协议&gt;://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt;</strong></p>
<ul>
<li><p><strong>协议</strong>：HTTPS或HTTP</p>
</li>
<li><p><strong>主机</strong>：域名的方式</p>
</li>
<li><p><strong>端口</strong>：对应进程</p>
</li>
<li><p><strong>路径</strong>：对应具体的文件</p>
</li>
</ul>
<h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><p>HTML文档是一种可以用任何文本编辑器创建的<strong>ASCII码文件</strong></p>
<ul>
<li><p><strong>HTML用一对标签或几对标签来标识一个元素</strong></p>
<ul>
<li>浏览器针对各种标签，根据所使用的显示器的尺寸和分辨率大小，重新排版并会付出所读取的页面</li>
</ul>
</li>
</ul>
<h3 id="FTP和TFTP"><a href="#FTP和TFTP" class="headerlink" title="FTP和TFTP"></a>FTP和TFTP</h3><p>FTP是一种<strong>可靠的、面向连接的</strong>服务，使用TCP传输文件</p>
<ol>
<li><p>FTP首先在客户端和服务器（<strong>端口21</strong>）之间建立<strong>控制连接</strong></p>
</li>
<li><p>然后建立计算机之间用于传输数据的连接（<strong>端口20</strong>）</p>
</li>
</ol>
<p>TFTP是使用UDP的<strong>无连接</strong>服务</p>
<ol>
<li><p><strong>不支持交互，没有目录浏览功能</strong></p>
</li>
<li><p>体积小，易于实施，更加方便</p>
</li>
<li><p>TFTP在路由器上用于传输配置文件和Cisco IOS镜像</p>
</li>
</ol>
<h4 id="工作步骤"><a href="#工作步骤" class="headerlink" title="工作步骤"></a>工作步骤</h4><ol>
<li>打开<strong>熟知端口21</strong>，使客户进程连接上</li>
</ol>
<ul>
<li>可以修改熟知端口</li>
</ul>
<ol>
<li><p>等待客户进程发出连接请求</p>
</li>
<li><p>启动从属进程来处理客户进程发来的请求</p>
<ul>
<li><p><strong>处理完毕就终止</strong></p>
</li>
<li><p>运行期间可能根据需要创建一些其他子进程</p>
<ul>
<li>主进程和从属进程的处理是<strong>并发</strong>的</li>
</ul>
<ol>
<li><p><strong>控制连接</strong></p>
</li>
<li><p><strong>数据连接</strong></p>
<ul>
<li>需要建立上面两个连接才能完成传输</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><p>回到等待状态，继续接受其他客户进程发来的请求</p>
</li>
</ol>
<h3 id="Telnet协议"><a href="#Telnet协议" class="headerlink" title="Telnet协议"></a>Telnet协议</h3><p>Telnet客户端软件提供了登录到运行Telnet服务器应用程序的远程Internet主机，然后从命令行执行命令的功能</p>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/image-20220625162752578.png" alt=""></p>
<ul>
<li><p>输入参数，达成一致，对服务器进行操作</p>
</li>
<li><p>不同操作系统之间的快捷键和指令是有差异的，需要进行转换</p>
</li>
</ul>
<h3 id="SMTP和POP（电子邮件）"><a href="#SMTP和POP（电子邮件）" class="headerlink" title="SMTP和POP（电子邮件）"></a>SMTP和POP（电子邮件）</h3><p>电子邮件服务器使用<strong>SMTP发送和POP接收</strong>邮件相互通信</p>
<ul>
<li>发送者先登录到服务器，通过服务器根据 SMTP 传输到对应的服务器，然后用户登录后通过 POP3 协议收邮件到本地</li>
</ul>
<p><strong>SMTP</strong>(Simple Mail Transfer Protocol)：邮件发送、登陆发送等</p>
<p><strong>POP3</strong>(Post Office Protocol version 3)：邮件接收</p>
<ul>
<li>邮件到达邮件服务端，由客户端和服务端联系接收邮件</li>
</ul>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/image-20220625162836882.png" alt=""></p>
<h4 id="MIME和SMTP"><a href="#MIME和SMTP" class="headerlink" title="MIME和SMTP"></a>MIME和SMTP</h4><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/image-20220625162849543.png" alt=""></p>
<p>很多文件并不是ASCII码的，需要用MIME进行转换（扩充）</p>
<ul>
<li>MIME标准扩充了SMTP标准</li>
</ul>
<p><strong>MIME增加五个新的邮件首部</strong>：</p>
<ol>
<li><p>MIME-version：标志MIME的版本</p>
</li>
<li><p>Contenet-Description：可读字符串，说明此邮件主体是否是图像、音频或视频</p>
</li>
<li><p>Content-Id：邮件的唯一标识符</p>
</li>
<li><p>Content-Transfer-Encoding：在传送时邮件的主体是如何编码的</p>
</li>
<li><p>Content-Type：说明邮件主体的数据类型和子类型</p>
</li>
</ol>
<h3 id="简单网络管理协议SNMP"><a href="#简单网络管理协议SNMP" class="headerlink" title="简单网络管理协议SNMP"></a>简单网络管理协议SNMP</h3><p><strong>SNMP可简化网络设备之间的管理信息交换</strong></p>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/image-20220625162901604.png" alt=""></p>
<ul>
<li><p><strong>网络管理系统NMS</strong>：通过下发请求对上网的所有主机关于流量等信息进行管理</p>
</li>
<li><p>通过管理数据库MIB进行交流</p>
</li>
<li><p><strong>使用UDP通过广播进行实现</strong></p>
</li>
</ul>
<h3 id="DNS域名系统"><a href="#DNS域名系统" class="headerlink" title="DNS域名系统"></a>DNS域名系统</h3><p>DNS管理域名并相应客户端<strong>将域名转换为关联IP地址</strong>的请求</p>
<h4 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h4><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/image-20220625162924862.png" alt=""></p>
<ul>
<li><p>使用<code>.</code>将字符串进行分割</p>
</li>
<li><p><strong>越靠后域名级别越高</strong></p>
</li>
<li><p>www 对应到主机群</p>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>类别</th>
<th>域名</th>
<th>使用者</th>
</tr>
</thead>
<tbody>
<tr>
<td>国家</td>
<td>.cn</td>
<td>中国</td>
</tr>
<tr>
<td></td>
<td>.us</td>
<td>美国</td>
</tr>
<tr>
<td></td>
<td>.uk</td>
<td>英国</td>
</tr>
<tr>
<td>通用</td>
<td>.com</td>
<td>企业和公司</td>
</tr>
<tr>
<td></td>
<td>.net</td>
<td>网络服务提供商</td>
</tr>
<tr>
<td></td>
<td>,org</td>
<td>非盈利组织</td>
</tr>
<tr>
<td></td>
<td>.edu</td>
<td>教育机构</td>
</tr>
<tr>
<td></td>
<td>.gov</td>
<td>政府</td>
</tr>
<tr>
<td></td>
<td>.mil</td>
<td>军方</td>
</tr>
<tr>
<td></td>
<td>.int</td>
<td>国际组织</td>
</tr>
<tr>
<td>基础设施领域</td>
<td>arpa</td>
<td>用于反向解析域名</td>
</tr>
<tr>
<td>Recently</td>
<td>.aero</td>
<td>航空运输企业</td>
</tr>
<tr>
<td></td>
<td>.biz</td>
<td>公司和企业</td>
</tr>
<tr>
<td></td>
<td>.travel</td>
<td>旅游业</td>
</tr>
<tr>
<td></td>
<td>.jobs</td>
<td>人力资源管理者</td>
</tr>
<tr>
<td></td>
<td>.museum</td>
<td>博物馆</td>
</tr>
<tr>
<td></td>
<td>.info</td>
<td>各种资讯</td>
</tr>
</tbody>
</table>
</div>
<p>顶级域名底下的域名<strong>由顶级域名进行管理</strong></p>
<p>跟域名服务器存储位置，所以<strong>子服务器知道跟服务器地址就行</strong></p>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/image-20220625162936895.png" alt=""></p>
<h4 id="DNS域名解析"><a href="#DNS域名解析" class="headerlink" title="DNS域名解析"></a>DNS域名解析</h4><p>DNS系统以<strong>层次</strong>结构设置，该层级结构创建不同级别的DNS服务器</p>
<p>次级别的DNS服务器判断其自身能否将域名转换为IP地址</p>
<ul>
<li><p>如果不行，将请求发送到更高级别</p>
</li>
<li><p>如果可以，将结果返回给服务端</p>
</li>
</ul>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-06-%E4%BC%9A%E8%AF%9D%E3%80%81%E8%A1%A8%E7%A4%BA%E3%80%81%E5%BA%94%E7%94%A8%E5%B1%82/image-20230716093300053.png" alt=""></p>
<h3 id="沟通方式"><a href="#沟通方式" class="headerlink" title="沟通方式"></a>沟通方式</h3><ol>
<li><p>无上下文：</p>
<ul>
<li>当浏览器打开时，将连接到默认页面，并且将页面的文件传输到客户端，<strong>处理完成后连接断开</strong></li>
</ul>
</li>
<li><p>有上下文：</p>
<ul>
<li>作为Telnet和FTP，建立与服务器的连接并保持该链接，直到执行所有处理，<strong>确定都完成后才断开连接</strong></li>
</ul>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://misayaas.github.io/2023/11/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E5%8E%9F%E7%90%86%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA%E5%8F%8A%E8%BF%90%E7%AE%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.jpg">
      <meta itemprop="name" content="花花花铃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Misayaas">
      <meta itemprop="description" content="万头攒动，火树银花之处不必寻我">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Misayaas">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E5%8E%9F%E7%90%86%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA%E5%8F%8A%E8%BF%90%E7%AE%97/" class="post-title-link" itemprop="url">数据表示及运算</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-11-18 03:00:07" itemprop="dateCreated datePublished" datetime="2023-11-18T03:00:07+08:00">2023-11-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-11-22 00:50:11" itemprop="dateModified" datetime="2023-11-22T00:50:11+08:00">2023-11-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">计算机组织与结构</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>7 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="数据的机器级表示"><a href="#数据的机器级表示" class="headerlink" title="数据的机器级表示"></a>数据的机器级表示</h2><h3 id="信息的二进制编码"><a href="#信息的二进制编码" class="headerlink" title="信息的二进制编码"></a>信息的二进制编码</h3><ul>
<li><p><strong>自信息量</strong>：$I(x_i) = -log_2\:p(x_i)$</p>
</li>
<li><p><strong>系统的信息熵</strong>：$H(X) = E[I(X)] = -\sum_i p(x_i)log_2p(x_i)$</p>
</li>
</ul>
<h3 id="补码"><a href="#补码" class="headerlink" title="补码"></a>补码</h3><p><strong>计算机中普遍使用补码</strong></p>
<p>补码无论同号还是异号都可以直接相加</p>
<ul>
<li>原码可能会出错</li>
</ul>
<p>负数的补码等于<u><strong>对应的正数各位取反末位加一</strong></u></p>
<script type="math/tex; mode=display">负数补码 = 模 - 负数绝对值</script><h3 id="浮点数二进制表示"><a href="#浮点数二进制表示" class="headerlink" title="浮点数二进制表示"></a>浮点数二进制表示</h3><p>科学计数法：$\pm S \times B^E$</p>
<ul>
<li>S：尾数</li>
<li>B：基底</li>
<li>E：阶码</li>
</ul>
<h4 id="规格化数"><a href="#规格化数" class="headerlink" title="规格化数"></a>规格化数</h4><div class="table-container">
<table>
<thead>
<tr>
<th>S</th>
<th>E</th>
<th>M</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><p><strong>尾数（S）第一位总是1，不需要存于尾数字段</strong>（默认）</p>
<ul>
<li>23位原码表示24位尾数</li>
</ul>
</li>
<li><p>阶码（E）的真实值加偏移量后再存入阶码字段</p>
<ul>
<li><p>真实值 -127~128</p>
</li>
<li><p><strong>全0和全1表示特殊值</strong></p>
<ul>
<li>规格化数的阶码范围为<strong>0000 0001（-126） ~ 1111 1110（127）</strong> </li>
</ul>
</li>
</ul>
</li>
</ul>
<p>规格化表示：</p>
<ul>
<li><p>$\pm 1.bbb…b \times 2^E$</p>
</li>
<li><p>$X = (-1)^S \times M \times 2^E$</p>
</li>
</ul>
<p><strong>规格化数的范围：（<del>重要难耐</del>）</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>格式</th>
<th>最小整数</th>
<th>最大整数</th>
<th>最小负数</th>
<th>最大负数</th>
</tr>
</thead>
<tbody>
<tr>
<td>单精度</td>
<td>E = 1, M=0</td>
<td>E = 254, M = $1 - 2^{-23}$</td>
<td>E = 254, M = $1-2^{-23}$</td>
<td>E = 1, M = 0</td>
</tr>
<tr>
<td>真值</td>
<td>$1.0 \times 2^{-126}$</td>
<td>$(2-2^{-23}) \times 2^{127})$</td>
<td>$-(2-2^{-23}) \times 2^{127}$</td>
<td>$-1.0 \times 2^{-126}$</td>
</tr>
</tbody>
</table>
</div>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt3/cpt3-6.png" alt=""></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>阶码的值</th>
<th>尾数的值</th>
<th>表示</th>
</tr>
</thead>
<tbody>
<tr>
<td>0（全0）</td>
<td>0</td>
<td>$\pm 0$</td>
</tr>
<tr>
<td>0（全0）</td>
<td>非0</td>
<td>非规格化数</td>
</tr>
<tr>
<td>1~254</td>
<td>任意</td>
<td>规格化数</td>
</tr>
<tr>
<td>255（全1）</td>
<td>0</td>
<td>$\pm \infty$</td>
</tr>
<tr>
<td>255（全1）</td>
<td>非0</td>
<td>NaN</td>
</tr>
</tbody>
</table>
</div>
<h4 id="非规格化数"><a href="#非规格化数" class="headerlink" title="非规格化数"></a>非规格化数</h4><p>用于处理规格化数中的下溢情况</p>
<p>$(-1)^S \times 0.bbb…b \times 2^{-126}$</p>
<h3 id="自然BCD码（NBCD-8421码）（随便看看得了）"><a href="#自然BCD码（NBCD-8421码）（随便看看得了）" class="headerlink" title="自然BCD码（NBCD,8421码）（随便看看得了）"></a>自然BCD码（NBCD,8421码）（<del>随便看看得了</del>）</h3><p>用四个二进制位表示每一个十进制数字</p>
<p>符号：四个最高有效位</p>
<ul>
<li>正：1100</li>
<li>负：1101</li>
</ul>
<h2 id="数据校验码"><a href="#数据校验码" class="headerlink" title="数据校验码"></a>数据校验码</h2><h3 id="纠错"><a href="#纠错" class="headerlink" title="纠错"></a>纠错</h3><p><strong>基本思想</strong>：<u>存储额外的信息以进行检错和校正</u></p>
<p><strong>处理过程</strong>：</p>
<ul>
<li><p>数据输入：使用函数f在M位数据D上生成K位校验码C</p>
</li>
<li><p>数据输出：使用函数f在M位数据$D’$上生成新的K位校验码$C’’$，并与取出的K位校验码$C’$进行比较</p>
<ul>
<li><p>没有检测到差错：使用数据$D’$</p>
</li>
<li><p>检测到差错并可以校正：校正数据$D’$来生成数据$D’’$，并用数据$D’’$</p>
</li>
<li><p>检测到差错但无法纠正：报告</p>
</li>
</ul>
</li>
</ul>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt10/1.png" alt=""></p>
<ul>
<li>一旦进入Memory，C和D就已经<strong>永远消失了</strong></li>
</ul>
<h3 id="奇偶校验码"><a href="#奇偶校验码" class="headerlink" title="奇偶校验码"></a>奇偶校验码</h3><p>增加1位校验码在<u>数据最后面</u>来表示数据中的<strong>1的数量是奇数还是偶数</strong></p>
<p><strong>处理过程</strong>：</p>
<p>假设数据为$D = D_M \cdots D_2 D_1$ </p>
<ul>
<li><p><strong>数据输入</strong>  </p>
<ul>
<li><p>奇校验：$C = D_M \oplus \cdots D_2 \oplus D_1 \oplus 1$</p>
</li>
<li><p>偶校验：$C = D_M \oplus \cdots D_2 \oplus D_1$</p>
</li>
</ul>
</li>
<li><p><strong>数据输出</strong>  </p>
<ul>
<li><p>奇校验：$C’’ = D’_M \oplus \cdots D’_2 \oplus D’_1 \oplus 1$</p>
</li>
<li><p>偶校验：$C’’ = D’_M \oplus \cdots D’_2 \oplus D’_1$</p>
</li>
</ul>
</li>
<li><p><strong>检错</strong></p>
<p>  $S = C’’ \oplus C’$</p>
<ul>
<li><p>S = 0：正确/数据中出错的位数为偶数</p>
</li>
<li><p>S = 1：数据中出错的位数为奇数</p>
</li>
</ul>
</li>
</ul>
<p><strong>优点</strong>：代价低，只需要1位额外数据</p>
<p><strong>缺点</strong>：不能发现出错位数为偶数的情形，发现错误后无法校正</p>
<h3 id="海明码"><a href="#海明码" class="headerlink" title="海明码"></a>海明码</h3><p>将数据分成几组，对每一组都使用奇偶校验码进行检错</p>
<p><strong>处理过程</strong>  ：</p>
<p>将𝑀位数据分成𝐾组  </p>
<ul>
<li><p><strong>数据输入</strong>：</p>
<ul>
<li>为数据𝐷中每组生成1位校验码，合并得到𝐾位校验码𝐶  </li>
</ul>
</li>
<li><p><strong>数据输出</strong>：</p>
<ul>
<li>为数据𝐷′中每组生成1位校验码，合并得到新的𝐾位校验码𝐶′′  </li>
</ul>
</li>
<li><p><strong>检错</strong>：将校验码𝐶′′和取出的校验码  C’ 按位进行异或，生成𝐾位<strong>故障字（syndrome word）</strong>  </p>
</li>
</ul>
<h4 id="检验码"><a href="#检验码" class="headerlink" title="检验码"></a>检验码</h4><p><strong>检验码的长度为 $2^K \geq M + K + 1$</strong>，使K成立的最小值就是校验码的位数</p>
<ul>
<li><p>数据中有1位出现错误：M</p>
</li>
<li><p>检验码中有1位出现错误：K</p>
</li>
<li><p>没有出现错误：1</p>
</li>
</ul>
<p>每一个检验位都放在二进制串中$2^n(n \in \mathbb{N})$的位置</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>位置</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>12</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据位</td>
<td></td>
<td></td>
<td>$D_1$</td>
<td></td>
<td>$D_2$</td>
<td>$D_3$</td>
<td>$D_4$</td>
<td></td>
<td>$D_5$</td>
<td>$D_6$</td>
<td>$D_7$</td>
<td>$D_8$</td>
</tr>
<tr>
<td>校验位</td>
<td>$C_1$</td>
<td>$C_2$</td>
<td></td>
<td>$C_3$</td>
<td></td>
<td></td>
<td></td>
<td>$C_4$</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><p><strong>检验位$C_i$负责检验二进制第 i 位为1的位置的检错</strong></p>
<ul>
<li><p>比如$C_1$负责0011、0101、0111 、1001$\cdots$，也就是第3、5、7、9 $\cdots$位</p>
</li>
<li><p>比如$C_2$负责0011、0110、0111、1010 $\cdots$，也就是第3、6、7、10$\cdots$位</p>
</li>
</ul>
</li>
<li><p>检验位$C_i$的值要根据选择的奇/偶校验来决定</p>
<ul>
<li><strong>所有负责的位进行异或</strong>（奇检验最后还要异或1）</li>
</ul>
</li>
</ul>
<h4 id="故障字"><a href="#故障字" class="headerlink" title="故障字"></a>故障字</h4><p>每种取值反映一种情形</p>
<ul>
<li><p>全0：没有检测到错误</p>
</li>
<li><p>有且仅有1位是1：错误发生在校验码中的某一位，不需要纠正</p>
</li>
<li><p>有多位为1：错误发生在数据中的某一位，<strong>将$D’$中对应数据位取反</strong>即可纠正</p>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>故障字</th>
<th>0001</th>
<th>0010</th>
<th>0011</th>
<th>0100</th>
<th>0101</th>
<th>0110</th>
<th>0111</th>
<th>1000</th>
<th>1001</th>
<th>1010</th>
<th>1011</th>
<th>1100</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据位</td>
<td></td>
<td></td>
<td>$D_1$</td>
<td></td>
<td>$D_2$</td>
<td>$D_3$</td>
<td>$D_4$</td>
<td></td>
<td>$D_5$</td>
<td>$D_6$</td>
<td>$D_7$</td>
<td>$D_8$</td>
</tr>
<tr>
<td>校验位</td>
<td>$C_1$</td>
<td>$C_2$</td>
<td></td>
<td>$C_3$</td>
<td></td>
<td></td>
<td></td>
<td>$C_4$</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h3 id="循环冗余检测"><a href="#循环冗余检测" class="headerlink" title="循环冗余检测"></a>循环冗余检测</h3><ul>
<li><strong>模2运算</strong>：进行加法和减法都不进位</li>
</ul>
<p><strong>循环冗余检测CRC计算</strong>：<u>假定数据M有k个比特，CRC运算就是在数据M后面添加供差错检测用的n位<strong>冗余码</strong>，然后构成一个帧发出去，一共发送(k + n)位</u></p>
<p><strong>n位冗余码获得方式</strong>：在M后面加上n个0，得到的(n + k)位的数初一事先商定的(n + 1)位除数P，得出商是Q而余数是R（n位），这个余数R就作为冗余码拼接在数据M后面发送出去,也就是<strong>发送(k + n)位的CRC码</strong></p>
<ul>
<li>这种冗余码称作<strong>帧检验序列FCS</strong>(Frame Check Sequence)</li>
</ul>
<p><img src="https://tse2-mm.cn.bing.net/th/id/OIP-C.VX98Rc7ifinwUBusCIfxwQAAAA?w=265&amp;h=180&amp;c=7&amp;r=0&amp;o=5&amp;dpr=1.5&amp;pid=1.7" alt="循环冗余检验 的图像结果"></p>
<p>接收端把收到的数据进行CRC检验：把收到的每一个帧除以相同的除数P（模2运算），然后检查得到的余数R</p>
<ul>
<li><p>R = 0则判定没有差错，接收</p>
</li>
<li><p>R $\ne$ 0则出现差错（<u>无法确定具体位置</u>）</p>
</li>
</ul>
<h2 id="整数运算"><a href="#整数运算" class="headerlink" title="整数运算"></a>整数运算</h2><h3 id="加法"><a href="#加法" class="headerlink" title="加法"></a>加法</h3><p>溢出表示：</p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt4/cpt4-6.png" alt=""></p>
<h4 id="全加器"><a href="#全加器" class="headerlink" title="全加器"></a>全加器</h4><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt4/cpt4-2.png" alt=""></p>
<ul>
<li><p>与门延迟：1ty ，或门延迟：2ty，异或门延迟：3ty</p>
</li>
<li><p>进位延迟：2ty，数据延迟：6ty</p>
</li>
</ul>
<h4 id="串行进位加法器"><a href="#串行进位加法器" class="headerlink" title="串行进位加法器"></a>串行进位加法器</h4><p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt4/cpt4-3.png" alt=""></p>
<ul>
<li><p>$S_n = 2 \times(n - 1) + 3 = 2n + 1$</p>
<ul>
<li><p>在等待C来的时候，已经提前把$X_i$和$Y_i$进行计算</p>
</li>
<li><p>n=1的时候，计算出来是3，而实际是6</p>
<ul>
<li>需要 $2 \times (n - 1) \geq 3$ 才行</li>
</ul>
</li>
<li><p>$S_1 = 6，S_2 = 6，S_3 = 7$，$S_1$和$S_2$是同时出来的，只要C过去了就行</p>
</li>
</ul>
</li>
</ul>
<h4 id="全先行进位加法器"><a href="#全先行进位加法器" class="headerlink" title="全先行进位加法器"></a>全先行进位加法器</h4><p>超前进位：</p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt4/cpt4-4.png" alt=""></p>
<ul>
<li><p>所有的 $P_i$ 和 $G_i$ 都是可以同时计算的，代价是1ty</p>
</li>
<li><p>求出所有 $C_i$ 代价为2ty</p>
<ul>
<li>先计算所有的与，再计算所有的或</li>
</ul>
</li>
<li><p>求出所有的 $S_i$ 代价为3ty</p>
<ul>
<li><p><strong>异或只需要再做一次</strong>（有一次跟上面的时间重叠了）</p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt4/1.png" alt=""></p>
</li>
</ul>
</li>
</ul>
<h4 id="部分先行进位加法器"><a href="#部分先行进位加法器" class="headerlink" title="部分先行进位加法器"></a>部分先行进位加法器</h4><p>思路：<u>采用多个CLA并将其串联，取得计算时间和硬件复杂度之间的权衡</u></p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt4/cpt4-5.png" alt=""></p>
<ul>
<li><p>最后算出的是最前面的加法部分</p>
</li>
<li><p>最左边是3 = 1 + 2</p>
</li>
<li><p>然后中间两个+2:之前P和G都算好了</p>
</li>
<li><p>最后一步5 = 2 + 3</p>
<ul>
<li>P和G已经算好了</li>
</ul>
</li>
<li><p>多一个加2</p>
</li>
</ul>
<h3 id="减法"><a href="#减法" class="headerlink" title="减法"></a>减法</h3><p>$X - Y = X + (-Y)$</p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt4/cpt4-7.png" alt=""></p>
<ul>
<li><p>Sub是控制线，1为减法，0为加法</p>
<ul>
<li>Sub为1会走下面的路（<strong>取反</strong>）</li>
</ul>
</li>
<li><p>Sub另一端连接在CarryIn上面</p>
</li>
</ul>
<h3 id="乘法"><a href="#乘法" class="headerlink" title="乘法"></a>乘法</h3><h4 id="原码一位乘法"><a href="#原码一位乘法" class="headerlink" title="原码一位乘法"></a>原码一位乘法</h4><p>所有数用原码表示</p>
<p>计算X + Y：</p>
<ol>
<li><p><strong>符号位单独计算</strong></p>
</li>
<li><p><strong>X和Y数值位的绝对值进行计算</strong></p>
</li>
</ol>
<p><img src="https://pic2.zhimg.com/v2-ccb27e6caf7b8ac185a91527cc5e27a1_r.jpg" alt=""></p>
<ul>
<li><p>根据Y低位决定ACC</p>
<ul>
<li><p><strong>低位为1则ACC加X，然后逻辑右移</strong></p>
</li>
<li><p><strong>低位为0则ACC不变，然后逻辑右移</strong></p>
</li>
</ul>
</li>
<li><p>进行n次计算（X和Y的位数为n）</p>
</li>
</ul>
<h4 id="布斯乘法（补码一位乘法）"><a href="#布斯乘法（补码一位乘法）" class="headerlink" title="布斯乘法（补码一位乘法）"></a>布斯乘法（补码一位乘法）</h4><p>所有数用补码表示</p>
<p>计算 X + Y：</p>
<ol>
<li><strong>乘数末尾补0</strong></li>
</ol>
<p><strong>这张图有问题，但是思想没问题</strong></p>
<ul>
<li>错误点是<u>第三次横移应该高位补1</u></li>
</ul>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt4/cpt4-13.png" alt=""></p>
<ul>
<li><p>根据乘数最低两位决定ACC</p>
<ul>
<li><p><strong>最低位- 倒二低位 = 1：加上X补码，然后算数右移</strong></p>
</li>
<li><p><strong>最低位- 倒二低位 = 0：不变，然后算术右移</strong></p>
</li>
<li><p><strong>最低位- 倒二低位 = -1：加上-X补码，然后算术右移</strong></p>
</li>
</ul>
</li>
<li><p>进行n次运算（X和Y的位数为n）</p>
</li>
</ul>
<h3 id="除法"><a href="#除法" class="headerlink" title="除法"></a>除法</h3><h4 id="原码恢复余数法"><a href="#原码恢复余数法" class="headerlink" title="原码恢复余数法"></a>原码恢复余数法</h4><ol>
<li><p>所有数用原码表示</p>
</li>
<li><p><strong>符号位单独处理</strong></p>
</li>
<li><p><strong>数值位采用绝对值计算</strong></p>
</li>
</ol>
<p>计算X / Y</p>
<p><img src="https://cdn.acwing.com/media/article/image/2021/10/17/43346_473210542f-QQ%E6%88%AA%E5%9B%BE20211017160010.png" alt="计组学习笔记第三章运算方法与运算器3.6 - AcWing"></p>
<ul>
<li><p>根据$X + [-Y]_补$来计算</p>
<ul>
<li><p><strong>结果为负：上商0，加Y恢复余数，被除数和商左移一位</strong></p>
</li>
<li><p><strong>结果为非负：上商1，被除数和商左移一位</strong></p>
</li>
</ul>
</li>
<li><p>左移n次，上商n+1次（n为数值位）</p>
<ul>
<li>最后一次不用左移</li>
</ul>
</li>
</ul>
<h4 id="原码不恢复余数法"><a href="#原码不恢复余数法" class="headerlink" title="原码不恢复余数法"></a>原码不恢复余数法</h4><ol>
<li><p>所有数用原码表示</p>
</li>
<li><p><strong>符号位单独处理</strong></p>
</li>
<li><p><strong>数值位采用绝对值计算</strong></p>
</li>
</ol>
<p>计算X / Y</p>
<p><img src="https://cdn.acwing.com/media/article/image/2021/10/17/43346_d5a69c622f-QQ%E6%88%AA%E5%9B%BE20211017160416.png" alt="QQ截图20211017160416.png"></p>
<ul>
<li><p>根据$X + [-Y]_补$来计算</p>
<ul>
<li><p><strong>结果为负：上商0，余数左移一位，再加Y</strong></p>
</li>
<li><p><strong>结果为非负：上商1，余数左移一位，再减Y</strong></p>
</li>
</ul>
</li>
<li><p>左移n次，上商n+1次（n为数值位）</p>
<ul>
<li><p>最后一次不用左移</p>
</li>
<li><p>若最后一次余数为负，需要加Y得到正确的余数</p>
</li>
</ul>
</li>
</ul>
<h4 id="补码不恢复余数法"><a href="#补码不恢复余数法" class="headerlink" title="补码不恢复余数法"></a>补码不恢复余数法</h4><ol>
<li><p>所有数用补码表示</p>
</li>
<li><p><strong>符号位参与运算</strong></p>
<ul>
<li>拓展为双符号位</li>
</ul>
</li>
</ol>
<p>计算X / Y</p>
<ul>
<li><p>根据<strong>X和Y</strong>的符号来确定运算方式</p>
<ul>
<li><p>同号：$X - Y$</p>
</li>
<li><p>异号：$X + Y$</p>
</li>
</ul>
</li>
<li><p>根据<strong>余数和除数</strong>的符号来计算</p>
<ul>
<li><p><strong>同号：上商1，余数左移一位，然后再减Y</strong></p>
</li>
<li><p><strong>异号：上商0，余数左移一位，再加Y</strong></p>
</li>
</ul>
</li>
<li><p>左移n次，上商n+1次（n为数值位）</p>
<ul>
<li><strong>第n+1次上的商恒置为1</strong></li>
</ul>
</li>
</ul>
<h2 id="浮点数运算与表示"><a href="#浮点数运算与表示" class="headerlink" title="浮点数运算与表示"></a>浮点数运算与表示</h2><h3 id="加法和减法"><a href="#加法和减法" class="headerlink" title="加法和减法"></a>加法和减法</h3><p>必须保证两个操作数有相同的指数值</p>
<ul>
<li><p>$X_E \leq Y_E$</p>
<ul>
<li><p>$X+Y = (X_S \times B^{X_E - Y_E} + Y_S) \times B^{Y_E}$</p>
</li>
<li><p>$X-Y = (X_S \times B^{X_E - Y_E} - Y_S) \times B^{Y_E}$</p>
</li>
</ul>
</li>
</ul>
<p>步骤：</p>
<ol>
<li><p>检查0</p>
</li>
<li><p>对齐有效值</p>
</li>
<li><p>加或减有效值</p>
</li>
<li><p>规格化结果</p>
</li>
</ol>
<h4 id="原码加法"><a href="#原码加法" class="headerlink" title="原码加法"></a>原码加法</h4><p>如果两个操作数有相同的符号，做加法；否则，做减法</p>
<ul>
<li><p><strong>做加法</strong>：直接相加</p>
<ul>
<li><p>如果最高位有进位，则溢出</p>
</li>
<li><p><strong>符号和被加数（被减数）相同</strong></p>
</li>
</ul>
</li>
<li><p><strong>做减法</strong>：加第二个操作数的补数</p>
<ul>
<li><p><strong>如果最高位有进位，正确</strong></p>
<ul>
<li><strong>符号与被减数相同</strong></li>
</ul>
</li>
<li><p><strong>否则，计算它的补码</strong></p>
<ul>
<li><strong>符号与被减数相反</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt6/cpt6-10.png" alt=""></p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt6/cpt6-11.png" alt=""></p>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt6/cpt6-12.png" alt=""></p>
<h3 id="乘法-1"><a href="#乘法-1" class="headerlink" title="乘法"></a>乘法</h3><ol>
<li><p>无论哪个操作数是0，乘积都为0</p>
</li>
<li><p><strong>从阶值的和中减去一个偏移量</strong></p>
<ul>
<li>其实是减去两个，但是最后表示出来要加一个</li>
</ul>
</li>
<li><p>有效值相乘</p>
</li>
<li><p>结果规格化和舍入</p>
<ul>
<li>规格化可能导致阶值下溢</li>
</ul>
</li>
</ol>
<p><img src="https://spricoder.oss-cn-shanghai.aliyuncs.com/2019-COA19/img/cpt6/cpt6-14.png" alt=""></p>
<h3 id="除法-1"><a href="#除法-1" class="headerlink" title="除法"></a>除法</h3><ol>
<li><p>如果除数是0，则报告出错</p>
</li>
<li><p>如果被除数是0，则结果是0</p>
</li>
<li><p>被除数的阶值减除数的阶值，加上偏移量</p>
</li>
<li><p>有效值相除</p>
</li>
<li><p>结果规格化和舍入处理</p>
</li>
</ol>
<h3 id="精度考虑"><a href="#精度考虑" class="headerlink" title="精度考虑"></a>精度考虑</h3><p>寄存器的长度几乎总是大于有效值位长与一个隐含位之和，这些附加位称为<strong>保护位</strong></p>
<ul>
<li>保护位用0填充，用于扩充有效值的右端</li>
</ul>
<h4 id="舍入"><a href="#舍入" class="headerlink" title="舍入"></a>舍入</h4><ul>
<li><p><strong>四舍五入</strong>：结果被舍入成最近的可表示数</p>
<ul>
<li><p>最后四位：如果第一位是0，直接截去</p>
</li>
<li><p>最后四位：如果第一位是1，产生进位</p>
</li>
</ul>
</li>
<li><p><strong>朝$\pm\infty$舍入</strong>：结果朝无穷大的方向舍入</p>
</li>
<li><p><strong>朝0舍入</strong>：结果朝0舍入</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://misayaas.github.io/2023/11/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E5%8E%9F%E7%90%86%E2%80%94%E2%80%94%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.jpg">
      <meta itemprop="name" content="花花花铃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Misayaas">
      <meta itemprop="description" content="万头攒动，火树银花之处不必寻我">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Misayaas">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E5%8E%9F%E7%90%86%E2%80%94%E2%80%94%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/" class="post-title-link" itemprop="url">计算机系统</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-11-18 02:59:48 / 修改时间：03:08:06" itemprop="dateCreated datePublished" datetime="2023-11-18T02:59:48+08:00">2023-11-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E7%BB%87%E4%B8%8E%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">计算机组织与结构</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>411</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><h3 id="组织和结构"><a href="#组织和结构" class="headerlink" title="组织和结构"></a>组织和结构</h3><p><strong>组织</strong>：对编程人员<strong>不可见</strong></p>
<ul>
<li><p>操作单元及其相互连接</p>
</li>
<li><p>包括<u>控制信号、存储技术，…</u></p>
</li>
</ul>
<p><strong>结构</strong>：对编程人员<strong>可见</strong></p>
<ul>
<li><p>直接影响程序逻辑执行的属性</p>
</li>
<li><p>包括<u>指令集、表示数据类型的位数，…</u></p>
</li>
</ul>
<h3 id="计算机简史"><a href="#计算机简史" class="headerlink" title="计算机简史"></a>计算机简史</h3><ul>
<li><p>第一代：真空管</p>
<ul>
<li><strong>出现冯诺依曼模型</strong></li>
</ul>
</li>
<li><p>第二代：晶体管</p>
</li>
<li><p>第三代及后续几代：集成电路</p>
</li>
</ul>
<h3 id="冯诺依曼模型"><a href="#冯诺依曼模型" class="headerlink" title="冯诺依曼模型"></a>冯诺依曼模型</h3><p>基本原则：计算机由<strong>运算器、存储器、控制器、输入设备、输出设备</strong>组成，指令和数据均用二进制表示</p>
<p><strong>最重要的思想</strong>：存储程序</p>
<p><img src="https://tse4-mm.cn.bing.net/th/id/OIP-C.wBDk7wgoSrnl8owuevDsQQHaEs?rs=1&amp;pid=ImgDetMain" alt="01 | 冯·诺依曼体系结构：计算机组成的金字塔-CSDN博客"></p>
<ol>
<li><p><strong>主存储器</strong>：地址和存储内容</p>
</li>
<li><p><strong>算术逻辑单元</strong>：执行信息的实际处理</p>
</li>
<li><p><strong>程序控制单元</strong>：指挥信息的处理</p>
</li>
<li><p><strong>输入设备</strong>：将信息送入计算机中</p>
</li>
<li><p><strong>输出设备</strong>：将处理结果以某种形式显示在计算机外</p>
</li>
</ol>
<h3 id="摩尔定律"><a href="#摩尔定律" class="headerlink" title="摩尔定律"></a>摩尔定律</h3><p>单芯片上所能包含的晶体管数量每年翻一番 (1965-1969) / 1970<br>年起减慢为<strong>每18个月翻一番</strong></p>
<h3 id="CPU性能"><a href="#CPU性能" class="headerlink" title="CPU性能"></a>CPU性能</h3><h4 id="系统时钟"><a href="#系统时钟" class="headerlink" title="系统时钟"></a>系统时钟</h4><ul>
<li><p><strong>时钟频率</strong>（时钟速度）：<u>计算机在单位时间内执行最基本操作的次数</u>，单位Hz</p>
</li>
<li><p><strong>时钟周期</strong>（周期时间）：<u>执行每次最基本操作的时间</u>，单位s</p>
</li>
</ul>
<h4 id="指令执行"><a href="#指令执行" class="headerlink" title="指令执行"></a>指令执行</h4><p>处理器由时钟驱动，时钟具有固定的频率，或等价为<u.固定的时钟周期t</u></p>
<p><strong>CPI</strong>：<strong>每条计算机指令执行所需的时钟周期数</strong></p>
<ul>
<li><p>$CPI = \frac{\sum_{i = 1} ^{n}(CPI_i \times I_i)}{I_c}，I_c = \sum_{i = 1} ^ {n} I_i$</p>
<ul>
<li><p>$CPI_i$：<u>指定类型i所需要的周期数</u></p>
</li>
<li><p>$I_i$：<u>某一给定程序中所执行的i类指令的条数</u></p>
</li>
</ul>
</li>
</ul>
<p><strong>执行一个给定程序的处理时间是：</strong></p>
<ul>
<li>$T = I_c \times CPI \times t$</li>
</ul>
<p>每秒百万条指令（MIPS）:</p>
<ul>
<li>$MIPS = \frac{I_c}{T \times 10^6} = \frac{f}{CPI \times 10^6}$</li>
</ul>
<p>每秒百万条浮点操作（MFLOPS）：</p>
<ul>
<li>$MFLOPS = \frac{N_{floating-point\:op}}{T \times 10^6}$</li>
</ul>
<p><strong>平均结果</strong>：</p>
<ul>
<li><p><strong>算术平均值</strong>：$R_A = \frac{1}{m}\sum_{i = 1}^m R_i$</p>
</li>
<li><p><strong>调和平均值</strong>：$R_H = \frac{m}{\sum_{i = 1}^m \frac{1}{R_i}}$</p>
</li>
<li><p><strong>几何平均值</strong>：$R_G = (\prod_{i = 1}^n R_i)^{\frac{1}{n}}$</p>
</li>
</ul>
<h4 id="性能设计基本原则"><a href="#性能设计基本原则" class="headerlink" title="性能设计基本原则"></a>性能设计基本原则</h4><p><strong>大概率事件优先原则</strong>：对于大概率事件（或最常见的事件），赋予它优先的处理权和资源使用权</p>
<ul>
<li>$系统加速比 = \frac{总执行时间_{改进前}}{总执行时间_{改进后}}$</li>
</ul>
<p><strong>Amdahl定律</strong>：</p>
<ul>
<li><p>加快某部件执行速度所获得的系统性能加速比，受限于该部件在系统中所占的重要性比例</p>
</li>
<li><p><strong>性能增加的递减规则</strong>：如果仅仅对计算机中的<strong>一部分</strong>做性能改进，<u>改进越多，系统获得的效果越小</u>  </p>
<ul>
<li>$系统总加速比 = \frac{总执行时间_{改进前}}{总执行时间_{改进后}} = \frac{1}{(1 - 局部占比) + \frac{局部占比}{提升的性能}}$</li>
</ul>
</li>
</ul>
<h2 id="顶层视图"><a href="#顶层视图" class="headerlink" title="顶层视图"></a>顶层视图</h2><p><img src="https://tse4-mm.cn.bing.net/th/id/OIP-C.RaXqRwYy3vA5Vf6y1GbrXAHaEi?rs=1&amp;pid=ImgDetMain" alt="COA-2019-第二章 A Top-Level View of Computer Function and Interconnection ..."></p>
<h3 id="计算机工作原理（感觉不是很重要）"><a href="#计算机工作原理（感觉不是很重要）" class="headerlink" title="计算机工作原理（感觉不是很重要）"></a>计算机工作原理（<del>感觉不是很重要</del>）</h3><ul>
<li><p>指令和数据存储在单个读写存储器中</p>
</li>
<li><p>主存中的内容按位置访问，无需考虑其中包含的类型</p>
</li>
<li><p>CPU从一条指令到下一条指令到下一条指令以顺序方式执行</p>
</li>
<li><p>I/O模块与CPU、贮存交换计算机系统外部的数据</p>
</li>
</ul>
<p><strong>CPU频率不能无限提高</strong>（<del>随便提一嘴</del>）：</p>
<ul>
<li><p>理论限制：</p>
<ol>
<li><p>mos管开关、脉冲通过门电路需要时间</p>
</li>
<li><p>为了信号同步、每个脉冲信号需要持续一定时间</p>
</li>
</ol>
</li>
<li><p>制造限制：</p>
<ol>
<li><p>芯片面积越来越大。导致连线延迟越来越大，需要保证信号在设计指定时钟周期内从芯片的一角到达另一角</p>
</li>
<li><p>频率越高会导致开关损耗也越高，CPU会费电和散热高</p>
</li>
</ol>
</li>
<li><p><strong>解决方法</strong>：</p>
<ol>
<li>改进CPU芯片结构</li>
</ol>
</li>
</ul>
<p><strong>主存和CPU之间传输数据的速度跟不上CPU的速度（内存墙）</strong>（<del>也是随便提一嘴</del>）</p>
<ul>
<li>采用高速缓存Cache</li>
</ul>
<p><strong>CPU在等待I/O设备时保持空闲</strong>（<del>还是随便提一嘴</del>）</p>
<ul>
<li>采用中断机制</li>
</ul>
<p><strong>层次式存储结构可以兼顾存储容量、速度和成本</strong>（<del>知道我要说什么吧</del>）</p>
<p>I/<strong>O设备传输速率差异大</strong>（<del>累了</del>）</p>
<ul>
<li>采用缓冲区和改进I/O操作技术</li>
</ul>
<p><strong>计算机部件互连复杂</strong>（<del>这个可以看看</del>）：</p>
<ul>
<li><p>采用总线</p>
<ul>
<li><p>控制线：<u>控制数据线和地址线的访问和使用</u></p>
</li>
<li><p>地址线：<u>指定数据总线和地址I/O端口上的数据的来源或去向</u></p>
</li>
<li><p>数据线：<u>在系统模块之间传送数据</u></p>
</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://misayaas.github.io/2023/11/16/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97%E2%80%94%E2%80%94%E4%BC%A0%E8%BE%93%E5%B1%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.jpg">
      <meta itemprop="name" content="花花花铃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Misayaas">
      <meta itemprop="description" content="万头攒动，火树银花之处不必寻我">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Misayaas">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/16/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97%E2%80%94%E2%80%94%E4%BC%A0%E8%BE%93%E5%B1%82/" class="post-title-link" itemprop="url">传输层</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-11-16 16:36:24" itemprop="dateCreated datePublished" datetime="2023-11-16T16:36:24+08:00">2023-11-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-11-20 15:42:39" itemprop="dateModified" datetime="2023-11-20T15:42:39+08:00">2023-11-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/" itemprop="url" rel="index"><span itemprop="name">互联网计算</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3.8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>7 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p><strong>传输层向它上面的应用层提供通信服务</strong></p>
<ul>
<li>从传输层看，通信的真正端点不是主机而是<strong>主机中的进程</strong></li>
</ul>
<p>传输层有一个很重要的功能：<strong>复用</strong>(multiplexing)和<strong>分用</strong>(demultiplexing)</p>
<ul>
<li><p><strong>复用</strong>：应用层的所有应用程序都可以通过传输层再传送到网络层</p>
</li>
<li><p><strong>分用</strong>：传输层从网络层收到发送给各应用程序的数据后，必须交付指明的各应用程序</p>
</li>
</ul>
<p>运输层提供应用进程间的<strong>逻辑通信</strong></p>
<ul>
<li><p>数据的传送好像是沿着水平方向传送的</p>
</li>
<li><p>网络层为<strong>主机之间</strong>提供逻辑通信</p>
</li>
</ul>
<p><img src="https://s2.loli.net/2022/04/07/F3Jnj9qElOINDC5.png" alt="《计算机网络》学习总结——运输层、TCP与UDP（详细理解）_为什么要提供两种tcp udp2中协议_羊and船的博客-CSDN博客"></p>
<p>传输层会对收到的报文进行<strong>差错检测</strong></p>
<p>传输层有两种不同的运输协议：</p>
<ol>
<li><p><strong>面向连接的TCP</strong></p>
</li>
<li><p><strong>无连接的UDP</strong></p>
</li>
</ol>
<p>传输层向高层用户屏蔽了下面网络核心的细节，使得应用进程看见的就是好像在两个运输层实体之间有一条<strong>端对端的逻辑通信信道</strong></p>
<ul>
<li><p>传输层采用<strong>面向连接的TCP协议</strong>时，尽管下面的网络是不可靠的，但这种逻辑通信信道相当于一条<strong>全双工的可靠信道</strong></p>
</li>
<li><p>传输层采用<strong>无连接的UDP协议</strong>时，这种逻辑通信信道仍然是一条<strong>不可靠信道</strong> </p>
</li>
</ul>
<h2 id="传输层的两个协议"><a href="#传输层的两个协议" class="headerlink" title="传输层的两个协议"></a>传输层的两个协议</h2><p>传输层有两种不同的运输协议：</p>
<ol>
<li><p><strong>面向连接的TCP（传输控制协议）</strong></p>
<ul>
<li><p>传送数据前要<strong>先建立连接</strong>，数据传送结束后要<strong>释放连接</strong></p>
</li>
<li><p>不提供广播或多播服务</p>
</li>
</ul>
</li>
<li><p><strong>无连接的UDP（用户数据报协议）</strong></p>
<ul>
<li>传送数据前<strong>不需要先建立连接</strong>，远地主机收到UDP报文后<strong>不需要确认</strong></li>
</ul>
</li>
</ol>
<h3 id="端口"><a href="#端口" class="headerlink" title="端口"></a>端口</h3><p>TCP和UDP都是用<strong>端口</strong>来跟踪同时穿越网络的<strong>不同网络</strong>（即不同进程）</p>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-05-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/1-1676528301910-375.png" alt=""></p>
<p>端口分配规范：</p>
<ol>
<li><p>0-255保留给TCP和UDP公共应用程序使用</p>
</li>
<li><p>0-1023是熟知端口，有分发的规范，<strong>不应当被随便使用</strong></p>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th>应用程序</th>
<th>FTP</th>
<th>TELNET</th>
<th>SMTP</th>
<th>DNS</th>
<th>TFTP</th>
<th>HTTP</th>
<th>SNMP</th>
<th>SNMP(trap)</th>
<th>HTTPS</th>
</tr>
</thead>
<tbody>
<tr>
<td>熟知端口号</td>
<td>21</td>
<td>23</td>
<td>25</td>
<td>53</td>
<td>69</td>
<td>80</td>
<td>161</td>
<td>162</td>
<td>443</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li><p>1024-49151可以进行登记使用，避免冲突</p>
</li>
<li><p>49152-65535为短暂端口号，用于<strong>远程通信</strong></p>
</li>
</ol>
<h3 id="套接字Socket"><a href="#套接字Socket" class="headerlink" title="套接字Socket"></a>套接字Socket</h3><p>第四层进行通信的单位是进程，由IP和端口共同制定，<strong>socket是第四层的地址</strong></p>
<ul>
<li><p>socket表示为（IP地址，端口）</p>
</li>
<li><p>每个连接都表示为（$socket_{source}$，$socket_{destination}$）</p>
</li>
<li><p>通信被认为是<strong>以一个socket和另一个socket之间的连接</strong></p>
</li>
</ul>
<h2 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h2><p>TCP最主要的特点：</p>
<ol>
<li><p>TCP是<strong>面向连接</strong>的传输层协议</p>
</li>
<li><p>每一条TCP连接只能由两个<strong>端点</strong>(endpoint)，只能是<strong>点对点</strong></p>
</li>
<li><p>TCP提供<strong>可靠交付</strong>的服务</p>
<ul>
<li>通过TCP连接传送的数据<strong>无差错、不丢失、不重复、按需到达</strong></li>
</ul>
</li>
<li><p>TCP提供<strong>全双工通信</strong></p>
<ul>
<li>两端都设有发送缓存和接收缓存</li>
</ul>
</li>
<li><p><strong>面向字节流</strong></p>
<ul>
<li>TCP把应用程序交下来的数据仅仅看成是一连串的<strong>无结构字节流</strong></li>
</ul>
</li>
</ol>
<p><img src="https://tse4-mm.cn.bing.net/th/id/OIP-C.pA-FXiUNi1jeLanK9IMlPQHaDl?pid=ImgDet&amp;rs=1" alt="【图解】三次握手，四次挥手 —— 用心看这一篇就够了-阿里云开发者社区"></p>
<p>TCP必须解决的问题：</p>
<ol>
<li><p><strong>可靠传输</strong></p>
</li>
<li><p><strong>流量控制</strong></p>
<ul>
<li><p>滑动窗口</p>
</li>
<li><p>拥塞避免</p>
</li>
</ul>
</li>
<li><p><strong>连接控制</strong></p>
<ul>
<li><p>建立连接：三次握手</p>
</li>
<li><p>断开连接：四次握手</p>
</li>
</ul>
</li>
</ol>
<h3 id="TCP数据报"><a href="#TCP数据报" class="headerlink" title="TCP数据报"></a>TCP数据报</h3><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-05-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625154905110.png" alt=""></p>
<p>基本情况：<strong>一行4字节</strong>，固定首部长度为20字节</p>
<ol>
<li><p><strong>源端口和目的端口</strong></p>
<p> 传输层和应用层的服务接口，各占2字节</p>
<ul>
<li>复用和分用功能都要通过端口实现</li>
</ul>
</li>
<li><p><strong>序号</strong></p>
<p> TCP传送的数据流中的每一个字节都编上一个编号，序号字段的值指<u>本报文所发送的数据的<strong>第一个字节的序号</strong></u>，占4字节</p>
<ul>
<li><p>通过序号字段做可靠传输的保证，指示的是<strong>TCP传输的比特编码</strong>，而不是地址</p>
</li>
<li><p>从小向大进行使用，使用到最大之后会从小再次重新开始分配</p>
</li>
</ul>
</li>
<li><p><strong>确认号</strong></p>
<p> <strong>期望收到的下一个报文段</strong>的数据的第一个字节的序号，用于确认对方的数据号，同时对上一次传输进行确认，占4字节</p>
<ul>
<li>体现出全双工通信的有点，比如上回收到的最后序号是700，那么确认号就是701</li>
</ul>
</li>
<li><p><strong>数据偏移</strong></p>
<p> 指出TCP报文段的数据起始处距TCP报文段的起始处的长度，<strong>单位是32位字</strong>（即4字节）</p>
<ul>
<li>不满足的话使用填充位保证为4字节的整数倍</li>
</ul>
</li>
<li><p><strong>URG</strong></p>
<p> URG = 1时，表明紧急指针字段有效，告诉系统此报文段中有紧急数据，应尽快传送</p>
</li>
<li><p><strong>ACK</strong></p>
<p> ACK = 1时确认号字段有效</p>
</li>
<li><p><strong>推送PSH(PuSH)</strong></p>
<p> 接收TCP收到PSH = 1的报文段，就尽快交付应用进程，而不再等到整个缓存都填满了再向上交付，此时<strong>将缓存所有部分都传输</strong></p>
</li>
</ol>
<ul>
<li><u>TCP在正常情况下并不是马上传输的，而是等到缓存满了才发送</u></li>
</ul>
<ol>
<li><p><strong>复位RST</strong></p>
<p> ReSeT = 1时表明TCP连接中出现严重差错，<strong>必须释放连接再重新建立连接</strong>  </p>
<ul>
<li>如果请求方发送的请求，如果应答方不想连接则将ReSeT置为1</li>
</ul>
</li>
<li><p><strong>同步SYN</strong></p>
<p>SYN = 1时表明这是一个连接请求或连接接受报文</p>
</li>
<li><p><strong>终止FIN</strong></p>
<p>FIN = 1表明此报文段的发送端的数据已发送完毕，并要求释放传输连接</p>
<ul>
<li>断开连接有四次握手</li>
</ul>
</li>
<li><p><strong>窗口</strong></p>
<p>用来让对方设置<strong>发送窗口</strong>的依据，表示可以进行传输的窗口大小，<strong>单位是字节</strong>，占2字节</p>
</li>
<li><p><strong>校验和</strong></p>
<p>校验和字段检验的范围包括<strong>首部和数据</strong>这两部分，占2字节</p>
</li>
<li><p><strong>紧急指针</strong></p>
<p>指出在本报文段中紧急数据共有几个字节，占2字节</p>
<ul>
<li><u>紧急数据放在本报文段数据的最前面</u></li>
</ul>
</li>
<li><p><strong>选项</strong></p>
<p>TCP最初只有一种选项，即<strong>最大报文段长度MSS</strong>(Maximum Segment Size)</p>
<ul>
<li>MSS告诉对方缓存所能接收的报文段的数据字段的最大长度是MSS个字节</li>
<li>数据字段要加上TCP首部才等于整个TCP报文段</li>
</ul>
</li>
<li><p><strong>填充字段</strong></p>
<p>使整个首部长度是4字节的整数倍</p>
</li>
</ol>
<p><strong>主机使用网段(TPDU)交换数据</strong></p>
<ul>
<li>每个段都有首部20字节 + 0或更多数据字节</li>
</ul>
<ul>
<li><p>段的大小必须与IP数据报匹配，并且必须满足底层的需求</p>
</li>
<li><p>每个字节都有一个32位序号</p>
<ul>
<li><p>通讯中商定初识序号，确认到每一位</p>
</li>
<li><p>面向字节：<strong>数据块大小可以不对应</strong></p>
</li>
<li><p><strong>根据网络条件，对每一个字节进行确认</strong></p>
</li>
</ul>
</li>
</ul>
<h3 id="建立可靠连接（三次握手）"><a href="#建立可靠连接（三次握手）" class="headerlink" title="建立可靠连接（三次握手）"></a>建立可靠连接（三次握手）</h3><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-05-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625160131800.png" alt=""></p>
<ol>
<li><p><strong>第一次握手</strong></p>
<ul>
<li><p><strong>客户端</strong>：执行CONNECT原语，生成 SYN = 1 和 ACK = 0 的TCP段，代表<strong>连接请求</strong></p>
</li>
<li><p><strong>服务器</strong>：执行LISTEN和ACCEPT原语，并进行<strong>被动监视</strong></p>
</li>
</ul>
</li>
<li><p><strong>第二次握手</strong></p>
<p> <u>服务器检查是否存在监视端口的服务进程</u></p>
<ul>
<li><p>如果没有任何进程，则使用 RST = 1 回答一个TCP段</p>
</li>
<li><p>如果存在进程，则决定拒绝或接受请求</p>
<ul>
<li>如果接受连接请求，则发送 SYN = 1 和 ACK = 1 的网段</li>
</ul>
</li>
</ul>
</li>
</ol>
<ol>
<li><p><strong>第三次握手</strong></p>
<p> 客户端发送一个 SYN = 0 和 ACK = 1 的网段<strong>确认连接</strong></p>
<ul>
<li><p>三次握手是为了避免出现延时之类的情况</p>
</li>
<li><p>默认三次握手就认为可靠了，之后进行数据传输</p>
</li>
<li><p>有时候会选择则第三次握手的时候同时携带数据</p>
</li>
</ul>
</li>
</ol>
<h3 id="停止等待协议"><a href="#停止等待协议" class="headerlink" title="停止等待协议"></a>停止等待协议</h3><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-05-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20230721111915206.png" alt=""></p>
<p>发送段后要<strong>暂时保留备份</strong></p>
<ul>
<li><p>没有收到确认可以进行重传（<strong>超时重传</strong>）</p>
<ul>
<li><p>设置一个超时计数器：<u>如果对方的应答超过一定时间后则直接重发</u></p>
</li>
<li><p>重新发送时间必须<strong>大于 平均传输时间 $\times$ 2</strong></p>
</li>
</ul>
</li>
<li><p>收到确认就抛弃备份</p>
</li>
</ul>
<p>每个网段和ACK必须具有ID</p>
<p><strong>停止等待协议效率较低</strong></p>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-05-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20230721111921621.png" alt=""></p>
<p>没有收到应答或者丢失都要直接<strong>重传</strong></p>
<p>收到重复的就直接丢弃并重新发送确认</p>
<ul>
<li><strong>出现在ACK丢失的情况</strong></li>
</ul>
<h3 id="连续ARQ协议（滑动窗口的思想）"><a href="#连续ARQ协议（滑动窗口的思想）" class="headerlink" title="连续ARQ协议（滑动窗口的思想）"></a>连续ARQ协议（滑动窗口的思想）</h3><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-05-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20230721111935526.png" alt=""></p>
<p><strong>多个数据同时发送</strong>（一次发送多个）</p>
<p>窗口大小是双方协定的</p>
<ul>
<li>通过TCP报文中的窗口字段表示</li>
</ul>
<p><strong>出现丢失的情况</strong>：</p>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-05-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20230721112006370.png" alt=""></p>
<ul>
<li>如果连续发送五个分组，而第三个分组丢失了，则要不最后三个分组都重传一遍，这叫做<strong>后退N帧</strong></li>
</ul>
<h3 id="释放连接（四次握手）"><a href="#释放连接（四次握手）" class="headerlink" title="释放连接（四次握手）"></a>释放连接（四次握手）</h3><p><strong>释放连接前必须等待最大的网络往返时间 2MSL</strong>（保证能处理到B最后发送的报文）</p>
<ul>
<li>防止出现任何无效的连接请求段</li>
</ul>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-05-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625160335629.png" alt=""></p>
<ol>
<li><p><strong>第一次握手</strong></p>
<p> 发起断开连接请求</p>
</li>
<li><p><strong> 第二次握手</strong></p>
<p> ACK = 1：允许断开，此时<u>不再发送数据，需要完成之前未处理完成的数据的处理</u></p>
</li>
<li><p><strong>第三次握手</strong></p>
<p> FIN = 1：数据处理完成，表示正式断开</p>
</li>
<li><p><strong>第四次握手</strong></p>
<p> 收到断开信息</p>
</li>
</ol>
<h3 id="TCP中的计时器"><a href="#TCP中的计时器" class="headerlink" title="TCP中的计时器"></a>TCP中的计时器</h3><ol>
<li><p><strong>重传计时器</strong>：决定多长时间进行重传</p>
</li>
<li><p><strong>坚持计时器</strong>：避免死锁</p>
<ul>
<li><p>WIN = 0的时候修改但是无法发送过去</p>
</li>
<li><p>收到WIN = 0的时候开始进行计时，到时候主动询问</p>
</li>
</ul>
</li>
<li><p><strong>保持计时器</strong>：发送数据段后刷新，如果到达一定时间则再次询问是不是还要保持连接</p>
</li>
<li><p><strong>时间等待计时器</strong></p>
</li>
</ol>
<h3 id="TCP有限状态机"><a href="#TCP有限状态机" class="headerlink" title="TCP有限状态机"></a>TCP有限状态机</h3><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-05-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20230721112024491.png" alt=""></p>
<ul>
<li><p><strong>粗线</strong>：正常的服务器端</p>
</li>
<li><p><strong>细线</strong>：异常状态</p>
</li>
<li><p><strong>虚线</strong>：正常的客户端</p>
</li>
</ul>
<h2 id="UDP协议"><a href="#UDP协议" class="headerlink" title="UDP协议"></a>UDP协议</h2><p>UDP的最主要特点：</p>
<ol>
<li><p>没有建立连接（避免延时）</p>
</li>
<li><p>简单：发送方、接收方无连接状态</p>
<ul>
<li><p>没有握手等</p>
</li>
<li><p>每个UDP段都独立处理</p>
</li>
</ul>
</li>
<li><p>小段标题</p>
</li>
<li><p><strong>没有拥塞控制</strong></p>
</li>
</ol>
<p>UDP常见用处：</p>
<ol>
<li><p>流媒体和多媒体应用</p>
<ul>
<li><strong>速率敏感而非质量敏感</strong></li>
</ul>
</li>
<li><p>RIP：定期发送路由信息</p>
</li>
<li><p>DNS：避免延迟建立TCP连接（<strong>DNS需快速找到</strong>）</p>
</li>
<li><p>SNMP：拥塞时，SNMP必须仍然可以运行，<u>在没有拥塞和可靠性控制机制的情况下，UDP性能优于TCP</u></p>
<ul>
<li>组播和多播</li>
</ul>
</li>
<li><p>其他协议如TFTP、DHCP</p>
</li>
</ol>
<h3 id="UDP数据帧格式"><a href="#UDP数据帧格式" class="headerlink" title="UDP数据帧格式"></a>UDP数据帧格式</h3><p><img src="https://pic4.zhimg.com/v2-5802c1b70343ab580e72a6005f5a6207_b.jpg" alt="UDP详解 - 知乎"></p>
<ul>
<li><p><strong>首部只有8字节，因此UDP报文最少是8字节</strong></p>
</li>
<li><p>校验时包括数据部分，如果出现错误直接丢弃</p>
</li>
<li><p>应用层进行数据切片，决定如何进行发送，UDP直接发送，不会再自己切片</p>
</li>
</ul>
<h2 id="TCP和UDP的异同"><a href="#TCP和UDP的异同" class="headerlink" title="TCP和UDP的异同"></a>TCP和UDP的异同</h2><p><strong>不同点</strong>：</p>
<ol>
<li><p>TCP不是直接交给上层校验，而是需要先和对方沟通，<strong>缓存满了才统一交付</strong></p>
</li>
<li><p>UDP直接转发报文，保留报文标间，IP进行划分，应用程序会发送比较何时的UDP报文大小</p>
</li>
</ol>
<p><strong>共同点</strong>：</p>
<ol>
<li>校验相同</li>
</ol>
<h2 id="NAT和PAT"><a href="#NAT和PAT" class="headerlink" title="NAT和PAT"></a>NAT和PAT</h2><p>NAT是再IP数据报头部将一个地址转化为另一个地址的过程</p>
<p>NAT用于允许私下寻址的主机访问Internet，NAT是IP地址耗尽的解决方案之一：</p>
<ol>
<li><p>保留注册（合法）地址</p>
</li>
<li><p>连接到Internet时增加灵活性</p>
</li>
</ol>
<p><strong>NAT需要一个路由器来实现</strong></p>
<ul>
<li>NAT路由器可以双向转换</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-24f7e8ca7d2d40a7b33ea3f254a6a047_r.jpg" alt="NAT(地址转换技术)详解【转载】 - 知乎"></p>
<h3 id="NAT的类型"><a href="#NAT的类型" class="headerlink" title="NAT的类型"></a>NAT的类型</h3><ol>
<li><p><strong>静态NAT</strong>：固定的内部地址到注册地址的映射</p>
</li>
<li><p><strong>动态NAT</strong>：映射以先到先得的方式动态进行</p>
</li>
<li><p><strong>PAT</strong>：端口地址转换用于允许许多内部用户共享一个“内部全局”地址</p>
<ul>
<li><p>基于socket映射而不是IP地址</p>
</li>
<li><p>多个内网主机映射到一个公网地址</p>
</li>
</ul>
</li>
</ol>
<h3 id="NAT地址类型"><a href="#NAT地址类型" class="headerlink" title="NAT地址类型"></a>NAT地址类型</h3><ol>
<li><p><strong>内部本地地址</strong>(Inside Local address)：内网IP地址</p>
</li>
<li><p><strong>内部全局地址</strong>(Inside Global address)：注册IP地址，对外部展示的内部地址</p>
</li>
<li><p><strong>外部全局地址</strong>(Outside Global address)：由主机所有者分配的IP地址，通常是注册地址</p>
</li>
</ol>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-05-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625161850005.png" alt=""></p>
<p><u>内部主机发送报文给网关，网关根据NAT table进行翻译，转换成内部全局地址，然后进行转发</u></p>
<h3 id="NAT的优缺点"><a href="#NAT的优缺点" class="headerlink" title="NAT的优缺点"></a>NAT的优缺点</h3><ol>
<li><p><strong>优点</strong>：并非每个内部主机都需要同时进行外部访问，因此可以是用少量的全局唯一地址池来服务相对大量的私有寻址主机</p>
</li>
<li><p><strong>缺点</strong>：映射没有从根本上解决地址短缺的问题</p>
</li>
</ol>
<h3 id="PAT"><a href="#PAT" class="headerlink" title="PAT"></a>PAT</h3><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-05-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625162038137.png" alt=""></p>
<ul>
<li>同样的出口IP，用不同的端口号来区别</li>
</ul>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-05-%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625162050552.png" alt=""></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://misayaas.github.io/2023/11/15/%E6%95%B0%E6%8D%AE%E5%BA%93%E2%80%94%E2%80%94SQL%E8%AF%AD%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.jpg">
      <meta itemprop="name" content="花花花铃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Misayaas">
      <meta itemprop="description" content="万头攒动，火树银花之处不必寻我">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Misayaas">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/15/%E6%95%B0%E6%8D%AE%E5%BA%93%E2%80%94%E2%80%94SQL%E8%AF%AD%E6%B3%95/" class="post-title-link" itemprop="url">SQL语法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-11-15 01:20:11" itemprop="dateCreated datePublished" datetime="2023-11-15T01:20:11+08:00">2023-11-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-12-03 21:37:00" itemprop="dateModified" datetime="2023-12-03T21:37:00+08:00">2023-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.5k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>5 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="通用语法及分类"><a href="#通用语法及分类" class="headerlink" title="通用语法及分类"></a>通用语法及分类</h2><p>MySQL语法：</p>
<ul>
<li><p>可以单行或多行书写，以分号结尾</p>
</li>
<li><p>可以使用空格和缩进提高可读性</p>
</li>
<li><p><strong>不区分大小写</strong>，关键字建议大写</p>
</li>
</ul>
<p>SQL分类：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>分类</th>
<th>全称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>DDL</td>
<td>Data Definition Language</td>
<td>数据定义语言，用来定义数据库对象(数据库、表、字段)</td>
</tr>
<tr>
<td>DML</td>
<td>Data Manipulation Language</td>
<td>数据操作语言，用来对数据库表中的数据进行增删改</td>
</tr>
<tr>
<td>DQL</td>
<td>Data Query Language</td>
<td>数据查询语言，用来查询数据库中表的记录</td>
</tr>
<tr>
<td>DCL</td>
<td>Data Control Language</td>
<td>数据控制语言，用来创建数据库用户，控制数据库的访问权限</td>
</tr>
</tbody>
</table>
</div>
<p>PS：<u>[…]为可选参数</u></p>
<h2 id="DDL"><a href="#DDL" class="headerlink" title="DDL"></a>DDL</h2><h3 id="数据库操作："><a href="#数据库操作：" class="headerlink" title="数据库操作："></a>数据库操作：</h3><ol>
<li><p>查询</p>
<ul>
<li><p>查询所有数据库：</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> DATABASES;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查询当前数据库：</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> DATABASE();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>创建</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] 数据库名 [<span class="keyword">DEFAULT</span> CHARSET 字符集] [<span class="keyword">COLLATE</span> 排序规则];</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE[IF <span class="keyword">EXISTS</span>] 数据库名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE 数据库名;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="表操作："><a href="#表操作：" class="headerlink" title="表操作："></a>表操作：</h3><ol>
<li><p>查询</p>
<ul>
<li><p>查询当前数据库所有表：</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> TABLES;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查询表结构：</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> 表名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查询指定表的建表语句：</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>创建</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名(</span><br><span class="line">	字段<span class="number">1</span> 字段<span class="number">1</span>类型 [COMMENT 字段<span class="number">1</span>注释],</span><br><span class="line">	......</span><br><span class="line">	字段n 字段n类型 [COMMENT 字段n注释]</span><br><span class="line">) [COMMENT 表注释];</span><br></pre></td></tr></table></figure>
<ul>
<li><p>最后一个字段后面没有逗号</p>
</li>
<li><p>添加字段</p>
</li>
</ul>
</li>
<li><p>修改</p>
<ul>
<li><p>添加字段</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">ADD</span> 字段名 类型(长度) [COMMENT 注释] [约束]</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改数据类型</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 MODIFY 字段名 新数据类型(长度);</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改字段名和字段类型、</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 CHANEG 旧字段名 新字段名 类型(长度) [COMMENT 注释] [约束];</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改表名</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 RENAME <span class="keyword">TO</span> 新表名;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>删除</p>
<ul>
<li><p>删除字段</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">DROP</span> 字段名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除表</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> [IF <span class="keyword">EXISTS</span>] 表名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除指定表，并重新创建该表（<strong>清除数据</strong>）</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> 表名;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h2 id="DML"><a href="#DML" class="headerlink" title="DML"></a>DML</h2><ol>
<li><p>添加数据</p>
<ul>
<li><p>给指定的字段添加数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名(字段名<span class="number">1</span>,字段名<span class="number">2</span>,...) <span class="keyword">VALUES</span> (值<span class="number">1</span>,值<span class="number">2</span>,...);</span><br></pre></td></tr></table></figure>
</li>
<li><p>给全部字段添加数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名 <span class="keyword">VALUES</span> (值<span class="number">1</span>,值<span class="number">2</span>,...);</span><br></pre></td></tr></table></figure>
</li>
<li><p>批量添加数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名(字段名<span class="number">1</span>,字段名<span class="number">2</span>,...) <span class="keyword">VALUES</span> (值<span class="number">1</span>,值<span class="number">2</span>,...),(值<span class="number">1</span>,值<span class="number">2</span>,...),(值<span class="number">1</span>,值<span class="number">2</span>,...);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">VALUES</span> (值<span class="number">1</span>,值<span class="number">2</span>,...),(值<span class="number">1</span>,值<span class="number">2</span>,...),(值<span class="number">1</span>,值<span class="number">2</span>,...);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>注意</strong>：</p>
<ul>
<li>插入数据时，指定的字符顺序一定与值的顺序是一一对应的</li>
<li>字符串和日期型数据应该包含在引号中</li>
</ul>
</li>
<li><p>修改数据</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> 表名 <span class="keyword">SET</span> 字段名<span class="number">1</span><span class="operator">=</span>值<span class="number">1</span>,字段名<span class="number">2</span><span class="operator">=</span>值<span class="number">2</span>,... [<span class="keyword">WHERE</span> 条件];</span><br></pre></td></tr></table></figure>
<ul>
<li>没有条件就会修改整张表的数据</li>
</ul>
</li>
<li><p>删除数据</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> 表名 [<span class="keyword">WHERE</span> 条件];</span><br></pre></td></tr></table></figure>
<ul>
<li>如果没有条件会删除整张表的数据</li>
</ul>
</li>
</ol>
<h2 id="DQL"><a href="#DQL" class="headerlink" title="DQL"></a>DQL</h2><p>DQL编写顺序：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">	字段列表 </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	表名列表</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	条件列表</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">	分组字段列表</span><br><span class="line"><span class="keyword">HAVING</span></span><br><span class="line">	分组后条件列表</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">	排序字段列表</span><br><span class="line">LIMIT</span><br><span class="line">	分页参数</span><br></pre></td></tr></table></figure>
<p>DQL执行顺序：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	表名列表</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	条件列表</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">	分组字段列表</span><br><span class="line"><span class="keyword">HAVING</span></span><br><span class="line">	分组后条件列表</span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">	字段列表 </span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">	排序字段列表</span><br><span class="line">LIMIT</span><br><span class="line">	分页参数</span><br></pre></td></tr></table></figure>
<ol>
<li><p>基本查询</p>
<ul>
<li><p>查询多个字段</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段<span class="number">1</span>,字段<span class="number">2</span>,字段<span class="number">3</span>,... <span class="keyword">FROM</span> 表名;</span><br></pre></td></tr></table></figure>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 表名;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>* 表示查询全部字段</strong></li>
</ul>
</li>
<li><p>设置别名</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段<span class="number">1</span> [<span class="keyword">AS</span> 别名],字段<span class="number">2</span>[<span class="keyword">AS</span> 别名],... <span class="keyword">FROM</span> 表名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>去除重复记录</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> 字段列表 <span class="keyword">FROM</span> 表名;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>条件查询</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表名 <span class="keyword">WHERE</span> 条件列表;</span><br></pre></td></tr></table></figure>
</li>
<li><p>聚合函数</p>
<p> 定义：<u>将一列数据作为一个整体，进行纵向计算</u></p>
<ul>
<li><p><strong>不计算null值</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 聚合函数(字段列表) <span class="keyword">FROM</span> 表名;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th>常用的聚合函数</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>max</td>
<td>最大值</td>
</tr>
<tr>
<td>min</td>
<td>最小值</td>
</tr>
<tr>
<td>sum</td>
<td>求和</td>
</tr>
<tr>
<td>avg</td>
<td>平均值</td>
</tr>
<tr>
<td>count</td>
<td>统计数量</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li><p>分组查询</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表名 [<span class="keyword">WHERE</span> 条件] <span class="keyword">GROUP</span> <span class="keyword">BY</span> 分组字	段名 [<span class="keyword">HAVING</span> 分组后过滤条件];</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>不满足where条件不参与分组，且where不能对聚合函数进行判断</strong></p>
</li>
<li><p><strong>分组后不满足having条件过滤掉</strong></p>
</li>
</ul>
</li>
<li><p>排序查询</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表名 <span class="keyword">ORDER</span> <span class="keyword">BY</span> 字段<span class="number">1</span> 排序方式<span class="number">1</span>,字段<span class="number">2</span>,排序方式<span class="number">2</span>;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th>排序方式</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>ASC</td>
<td>升序（默认）</td>
</tr>
<tr>
<td>DESC</td>
<td>降序</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li><p>分页查询</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表名 LIMIT 起始索引,查询记录数;</span><br></pre></td></tr></table></figure>
<p> <strong>注意</strong>：</p>
<ol>
<li><p><strong>起始索引从0开始，$起始索引 = （查询页码 - 1）\times 每页记录数$</strong></p>
</li>
<li><p>分页查询是数据库的方言，不同数据库有不同的实现，MySQL中是LIMIT</p>
</li>
<li><p>如果查询的是第一页数据，起始索引可以省略</p>
</li>
</ol>
</li>
</ol>
<h2 id="DCL"><a href="#DCL" class="headerlink" title="DCL"></a>DCL</h2><h3 id="管理用户"><a href="#管理用户" class="headerlink" title="管理用户"></a>管理用户</h3><ol>
<li><p>查询用户</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">USE mysql;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建用户</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;密码&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>主机名为 localhost 或 %（任意主机）</strong> </li>
</ul>
</li>
<li><p>修改用户密码</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="string">&#x27;新密码&#x27;</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>删除用户</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span>;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="权限控制"><a href="#权限控制" class="headerlink" title="权限控制"></a>权限控制</h3><ol>
<li><p>查询权限</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>授予权限、</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> 权限列表 <span class="keyword">ON</span> 数据库名.表名 <span class="keyword">TO</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>数据库名和表名可以用 * 来表示所有</strong></li>
</ul>
</li>
<li><p>撤销权限</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">REVOKE</span> 权限列表 <span class="keyword">ON</span> 数据库名.表名 <span class="keyword">FROM</span><span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>数据库名和表名可以用 * 来表示所有</strong></li>
</ul>
</li>
</ol>
<ul>
<li>多个权限之间要用逗号分隔</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://misayaas.github.io/2023/11/14/%E6%95%B0%E6%8D%AE%E5%BA%93%E2%80%94%E2%80%94%E6%A6%82%E8%BF%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.jpg">
      <meta itemprop="name" content="花花花铃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Misayaas">
      <meta itemprop="description" content="万头攒动，火树银花之处不必寻我">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Misayaas">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/14/%E6%95%B0%E6%8D%AE%E5%BA%93%E2%80%94%E2%80%94%E6%A6%82%E8%BF%B0/" class="post-title-link" itemprop="url">概述</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-11-14 21:43:44" itemprop="dateCreated datePublished" datetime="2023-11-14T21:43:44+08:00">2023-11-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-11-20 15:02:23" itemprop="dateModified" datetime="2023-11-20T15:02:23+08:00">2023-11-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="数据模型"><a href="#数据模型" class="headerlink" title="数据模型"></a>数据模型</h2><p>MySQL数据库:</p>
<ul>
<li><p><strong>关系型数据库(RDBMS)</strong>：建立在关系模型基础上，由多张相互连接的二维表组成的数据库</p>
<ul>
<li><p>使用表存储数据，格式统一，便于维护</p>
</li>
<li><p>使用SQL语言操作，标准统一，使用方便</p>
</li>
</ul>
</li>
</ul>
<p><img src="https://tse1-mm.cn.bing.net/th/id/OIP-C.bhETLFjHWwkC_R78pgz0vwAAAA?pid=ImgDet&amp;rs=1" alt="MySQL:认识数据库_MySQL数据库的优点_About_yyyyyyy的博客-CSDN博客_mysql的优点"></p>
<h2 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h2><h3 id="通用语法及分类"><a href="#通用语法及分类" class="headerlink" title="通用语法及分类"></a>通用语法及分类</h3><p>MySQL语法：</p>
<ul>
<li>可以单行或多行书写，以分号结尾</li>
<li>可以使用空格和缩进提高可读性</li>
<li><strong>不区分大小写</strong>，关键字建议大写</li>
</ul>
<p>SQL分类：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>分类</th>
<th>全称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>DDL</td>
<td>Data Definition Language</td>
<td>数据定义语言，用来定义数据库对象(数据库、表、字段)</td>
</tr>
<tr>
<td>DML</td>
<td>Data Manipulation Language</td>
<td>数据操作语言，用来对数据库表中的数据进行增删改</td>
</tr>
<tr>
<td>DQL</td>
<td>Data Query Language</td>
<td>数据查询语言，用来查询数据库中表的记录</td>
</tr>
<tr>
<td>DCL</td>
<td>Data Control Language</td>
<td>数据控制语言，用来创建数据库用户，控制数据库的访问权限</td>
</tr>
</tbody>
</table>
</div>
<p>PS：<u>[…]为可选参数</u></p>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a><strong>数据类型</strong></h3><div class="table-container">
<table>
<thead>
<tr>
<th>数字类型</th>
<th>大小</th>
</tr>
</thead>
<tbody>
<tr>
<td>TINYINT</td>
<td>1byte</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>2bytes</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>3bytes</td>
</tr>
<tr>
<td>INT或INTEGER</td>
<td>4bytes</td>
</tr>
<tr>
<td>BIGINT</td>
<td>8bytes</td>
</tr>
<tr>
<td>FLOAT</td>
<td>4bytes</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>8bytes</td>
</tr>
<tr>
<td>DECIMAL</td>
<td>依赖精度和标度</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>可以在类型后面加入<strong>UNSIGNED</strong>表示无符号范围</li>
<li>浮点数（）内两个数分别表示<strong>整体长度和小数位数</strong></li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>字符串类型</th>
<th>大小</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>CHAR</td>
<td>0-255bytes</td>
<td>定长字符串</td>
</tr>
<tr>
<td>VARCHAR</td>
<td>0-65535bytes</td>
<td>变长字符串</td>
</tr>
<tr>
<td>TINYBLOB</td>
<td>0-255bytes</td>
<td>不超过255个字符的二进制数据</td>
</tr>
<tr>
<td>TINYTEXT</td>
<td>0-255bytes</td>
<td>短文本字符串</td>
</tr>
<tr>
<td>BLOB</td>
<td>0-65535bytes</td>
<td>二进制形式的长文本数据</td>
</tr>
<tr>
<td>TEXT</td>
<td>0-65535bytes</td>
<td>长文本数据</td>
</tr>
<tr>
<td>MEDIUMBLOB</td>
<td>0-16777215bytes</td>
<td>二进制形式的中长长度文本数据</td>
</tr>
<tr>
<td>MEDIUMTEXT</td>
<td>0-16777215bytes</td>
<td>中长长度文本数据</td>
</tr>
<tr>
<td>LONGBLOG</td>
<td>0-4294967295bytes</td>
<td>二进制形式的极大文本数据</td>
</tr>
<tr>
<td>LONGTEXT</td>
<td>0-4294967295bytes</td>
<td>极大文本数据</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>CHAR和VARCHAR需要接上（）表示<strong>最大长度</strong></li>
<li><u>定长的空间会全部占用，性能比VARCHAR好</u></li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>日期类型</th>
<th>大小</th>
<th>范围</th>
<th>格式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATE</td>
<td>3</td>
<td>1000-01-01至9999-12-31</td>
<td>YYYY-MM-DD</td>
<td>日期值</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>-838:59:59至838:59:59</td>
<td>HH:MM:SS</td>
<td>时间值或持续时间</td>
</tr>
<tr>
<td>YEAR</td>
<td>1</td>
<td>1901至2155</td>
<td>YYYY</td>
<td>年份值</td>
</tr>
<tr>
<td>DATETIME</td>
<td>8</td>
<td>1000-01-01 00:00:00至9999-12-31 23:59:59</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>混合日期和时间值</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>4</td>
<td>1970-01-01 00:00:01至2038-01-19 03:14:07</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>混合日期和时间值、时间戳</td>
</tr>
</tbody>
</table>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://misayaas.github.io/2023/11/10/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E2%80%94%E2%80%94%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E5%AE%9A%E7%90%86%E6%80%A7%E8%B4%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.jpg">
      <meta itemprop="name" content="花花花铃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Misayaas">
      <meta itemprop="description" content="万头攒动，火树银花之处不必寻我">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Misayaas">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/10/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E2%80%94%E2%80%94%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E5%AE%9A%E7%90%86%E6%80%A7%E8%B4%A8/" class="post-title-link" itemprop="url">线性代数定理性质</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-11-10 02:13:40" itemprop="dateCreated datePublished" datetime="2023-11-10T02:13:40+08:00">2023-11-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-12-28 14:45:49" itemprop="dateModified" datetime="2023-12-28T14:45:49+08:00">2023-12-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/" itemprop="url" rel="index"><span itemprop="name">线性代数</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>14k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>25 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>整理BY：<strong>Misayaas</strong></p>
<p>内容来自：<strong>《线性代数讲义》</strong></p>
<h2 id="行列式"><a href="#行列式" class="headerlink" title="行列式"></a>行列式</h2><h3 id="克莱姆法则简单版"><a href="#克莱姆法则简单版" class="headerlink" title="克莱姆法则简单版"></a>克莱姆法则简单版</h3><p>若存在方程组$\begin{cases}<br>a_{11}x_1 + a_{12}x_2= b_1 \\<br>a_{21}x_1 + a_{22}x_2= b_2\\<br>\end{cases}$，</p>
<p>可令$\Delta = \begin{vmatrix}<br>a_{11} &amp; a_{12} \\<br>a_{21} &amp; a_{22} \\<br>\end{vmatrix}$，$\Delta_1 = \begin{vmatrix}<br>b_1 &amp; a_{12} \\<br>b_2 &amp; a_{22} \\<br>\end{vmatrix}$，</p>
<p>$\Delta_2 = \begin{vmatrix}<br>a_{11} &amp; b_1 \\<br>a_{21} &amp; b_2 \\<br>\end{vmatrix}$</p>
<p>则对该方程组有一下结论（可以递推更高阶）：</p>
<ol>
<li><p><strong>若$\Delta \neq 0$，则方程组有唯一的解，$x_1 = \frac{\Delta_1}{\Delta}，x_2 = \frac{\Delta_2}{\Delta}$</strong></p>
</li>
<li><p><strong>若$\Delta = 0$，但$\Delta_1,\Delta_2$不全为0，则方程组无解</strong></p>
</li>
<li><p><strong>若$\Delta = \Delta_1 = \Delta_2 =0$，则方程组有无穷多组解</strong></p>
</li>
</ol>
<p><strong>方程组解的结论</strong>：</p>
<ol>
<li><p>齐次线性方程组必有零解，非齐次方程都是非零解</p>
</li>
<li><p>含有n个未知数的n个方程的齐次线性方程组若<strong>有非零解，则它的行列式等于0</strong>（充要条件）</p>
</li>
</ol>
<h3 id="行列式基本性质"><a href="#行列式基本性质" class="headerlink" title="行列式基本性质"></a>行列式基本性质</h3><ol>
<li><p>某两行（列）对应成比例，则行列式的值为0</p>
</li>
<li><p>若行列式的<strong>某一行\列</strong>拆分成两行（列）元素的和，则行列式可以拆成两个行列式的和</p>
</li>
<li><p>行列式<strong>任一行\列</strong>的公因子可以提出称为该行列式的因子</p>
</li>
<li><p><strong>两行\列元素交换后，原行列式的值<u>差一个负号</u></strong></p>
</li>
</ol>
<h3 id="n阶行列式的性质"><a href="#n阶行列式的性质" class="headerlink" title="n阶行列式的性质"></a>n阶行列式的性质</h3><ol>
<li><p>行列式和它的转置行列式的值相等</p>
</li>
<li><p><strong>两行\列元素交换后，原行列式的值<u>差一个负号</u></strong></p>
<ul>
<li>两行（列）相等的行列式的值为0</li>
<li>行列式可以按任一行（列）展开</li>
</ul>
</li>
<li><p>行列式<strong>任一行\列</strong>的公因子可以提出称为该行列式的因子</p>
<ul>
<li><u>用k乘以行列式的某一行（列），其结果就等于用k去乘这个行列式</u></li>
</ul>
</li>
<li><p><strong>将行列式 的任意一行（列）乘以k加到另一方（列）上去，行列式的值不变</strong></p>
</li>
<li><p>行列式任一行（列）的元素与另一行（列）的代数余子式对应的乘积之和为0</p>
</li>
</ol>
<h3 id="反对称"><a href="#反对称" class="headerlink" title="反对称"></a>反对称</h3><p>一切奇数阶的反对称行列式都等于0</p>
<h3 id="范德蒙德行列式"><a href="#范德蒙德行列式" class="headerlink" title="范德蒙德行列式"></a>范德蒙德行列式</h3><p>$D = \begin{vmatrix}<br>1 &amp; 1 &amp; \cdots &amp;1\\<br>x_1 &amp; x_2 &amp; \cdots &amp;x_n\\<br>x_1^2 &amp; x_2^2 &amp; \cdots &amp;x_n^2\\<br>\vdots &amp; \vdots &amp;  &amp;\vdots\\<br>x_1^{n-1} &amp; x_2^{n-1}&amp; \cdots &amp;x_n^{n-1}\\<br>\end{vmatrix} = \prod_{1 \leq i \leq j \leq n}(x_j - x_i)$</p>
<h2 id="矩阵、向量"><a href="#矩阵、向量" class="headerlink" title="矩阵、向量"></a>矩阵、向量</h2><h3 id="奇异矩阵"><a href="#奇异矩阵" class="headerlink" title="奇异矩阵"></a>奇异矩阵</h3><p>如果|A| $\neq$ 0，则称矩阵A是<strong>非异矩阵</strong>，如果|A| = 0，则矩阵A是<strong>奇异矩阵或退化矩阵</strong></p>
<h3 id="矩阵乘法"><a href="#矩阵乘法" class="headerlink" title="矩阵乘法"></a>矩阵乘法</h3><p>结合律：（AB）C = A （BC）</p>
<p>数乘结合律：k（AB）= （kA）B = A（kB）</p>
<p><strong>分配律：A（B + C）= AB + AC</strong></p>
<ul>
<li>AO = OA = O；AE = EA = A</li>
</ul>
<p><strong>矩阵相乘的行列式</strong>：<u>|A$\cdot$B| = |A| $\cdot$ |B|</u></p>
<h3 id="转置矩阵"><a href="#转置矩阵" class="headerlink" title="转置矩阵"></a>转置矩阵</h3><ol>
<li><p>$(A^T)^T = A；|A^T| = |A|$</p>
</li>
<li><p>$(A + B)^T = A^T + B^T$</p>
</li>
<li><p>$(kA)^T = kA^T$</p>
</li>
<li><p>$(AB)^T = B^TA^T$</p>
</li>
</ol>
<h3 id="分块矩阵"><a href="#分块矩阵" class="headerlink" title="分块矩阵"></a>分块矩阵</h3><p>$A = \begin{vmatrix}<br>P_{11} &amp; P_{12} \\<br>P_{21} &amp; P_{22} \\<br>\end{vmatrix}$，则$A^T = \begin{vmatrix}<br>P_{11}^T &amp; P_{21}^T \\<br>P_{12}^T &amp; P_{22}^T \\<br>\end{vmatrix}$</p>
<h3 id="初等变换和初等矩阵"><a href="#初等变换和初等矩阵" class="headerlink" title="初等变换和初等矩阵"></a>初等变换和初等矩阵</h3><p>初等矩阵左（右）乘一个矩阵的结果就是<strong>对这个矩阵做相应的初等行（列）变换</strong></p>
<ul>
<li>左行右列</li>
</ul>
<p>推论：</p>
<ol>
<li><p>设A为$m \times n$矩阵，r(A) = r，则存在m阶可逆矩阵P和n阶可逆矩阵Q，使得$A = P\Lambda Q$ </p>
<ul>
<li>其中$\Lambda = \begin{vmatrix}<br>E_r &amp; O \\<br>O &amp; O_{(m -r)\times (n-r)} \\<br>\end{vmatrix}$</li>
</ul>
</li>
</ol>
<h3 id="等价"><a href="#等价" class="headerlink" title="等价"></a>等价</h3><p>等价关系具有<strong>自反性、对称性、传递性</strong>，若A和B等价，那么A可以经过<strong>有限次</strong>初等变换得到B</p>
<p><u>具有行等价关系的矩阵所对应的线性方程组有相同的解</u></p>
<h3 id="行梯型矩阵和行简化梯形矩阵"><a href="#行梯型矩阵和行简化梯形矩阵" class="headerlink" title="行梯型矩阵和行简化梯形矩阵"></a>行梯型矩阵和行简化梯形矩阵</h3><p>共同点：</p>
<ol>
<li><p>零行在最下面</p>
</li>
<li><p>从第一行起，每行第一个非零元素前面的零的个数逐行增加</p>
</li>
</ol>
<p>行简化阶梯型特有：</p>
<ol>
<li><strong>非零行第一个非零元素为1，其所在列其他元素为0</strong></li>
</ol>
<h3 id="矩阵的秩"><a href="#矩阵的秩" class="headerlink" title="矩阵的秩"></a>矩阵的秩</h3><p>矩阵的秩是<strong>非零子式的最高次数</strong>（<del>宋浩说的最重要</del>）</p>
<p>基础知识：</p>
<ol>
<li><p>$0 \leq r(A_{m \times n}) \leq min(m，n)$</p>
</li>
<li><p>$r(A^T) = r(A)$</p>
</li>
<li><p>$r(A) = n \Longleftrightarrow |A| \neq 0 \Longleftrightarrow A非异$</p>
</li>
<li><p><strong>初等变换不改变矩阵的秩</strong></p>
</li>
<li><p><u>任一满秩矩阵可以经过若干次初等行（列）变换变为单位矩阵</u></p>
</li>
</ol>
<h3 id="可逆矩阵"><a href="#可逆矩阵" class="headerlink" title="可逆矩阵"></a>可逆矩阵</h3><p>AB = BA = E且逆矩阵是<strong>唯一</strong>的</p>
<p>基本性质：</p>
<ol>
<li><p>若A可逆，则$A^{-1}$也可逆，且$(A^{-1})^{-1} = A$，且|$A^{-1}$| = $|A|^{-1}$ </p>
</li>
<li><p>若A可逆，则kA也可逆（k$\neq$ 0），且$(kA)^{-1} = k^{-1}A^{-1}$</p>
</li>
<li><p><strong>若A可逆，则$A^T$也可逆，且$(A^T)^{-1} = (A^{-1})^T$</strong></p>
</li>
<li><p><strong>若A、B为同阶可逆矩阵，则AB也可逆，且$(AB)^{-1} = B^{-1}A^{-1}$</strong></p>
</li>
</ol>
<p>推论：</p>
<ol>
<li><p><strong>矩阵A可逆的充要条件是：A为满秩矩阵</strong></p>
</li>
<li><p>矩阵A可逆的充要条件是：$|A| \neq 0，且A^{-1} = \frac{1}{|A|} A^*$</p>
</li>
</ol>
<h3 id="伴随矩阵"><a href="#伴随矩阵" class="headerlink" title="伴随矩阵"></a>伴随矩阵</h3><p>基本公式是：$AA^\ast = A^\ast A = |A|E$</p>
<p>推论：</p>
<ol>
<li><p><strong>设A为n阶方阵($n \geq 2$)，则$|A^*| = |A|^{n-1}$</strong></p>
</li>
<li><p><strong>设A为n阶方阵($n \geq 2$)，则$(A^\ast) ^\ast= |A|^{n-2}A$</strong></p>
</li>
</ol>
<h3 id="线性组合"><a href="#线性组合" class="headerlink" title="线性组合"></a>线性组合</h3><p>给定n维向量组A：$\alpha_1,\alpha_2,\cdots,\alpha_m$和同维向量 $\beta$，如果存在一组数$k_1,k_2,\cdots,k_m$，使得 $\beta = k_1\alpha_1+k_2\alpha_2+\cdots+k_m\alpha_m$，则称 $\beta$ 是向量组A的一个线性组合或称向量 $\beta$ 可由向量组A线性表示</p>
<p>性质：</p>
<ol>
<li><p>零向量是任何向量组 $\alpha_1,\alpha_2,\cdots,\alpha_m$ 的线性组合</p>
</li>
<li><p><strong>任何n维向量都可由 $e_1,e_2,\cdots,e_n$ 线性表示，向量组 $e_1,e_2,\cdots,e_n$ 也称为n维基本向量</strong></p>
</li>
</ol>
<h3 id="等价向量组"><a href="#等价向量组" class="headerlink" title="等价向量组"></a>等价向量组</h3><p>设有两个向量组A：$\alpha_1,\alpha_2,\cdots,\alpha_m$ 及B：$\beta_1,\beta_2,\cdots,\beta_m$，若A中的每个向量都可由向量组B线性表示，则称向量组A可由向量组B线性表示，<strong>若两个向量组A，B可以相互表示，则成这两个向量等价</strong></p>
<h3 id="线性相关和线性无关"><a href="#线性相关和线性无关" class="headerlink" title="线性相关和线性无关"></a>线性相关和线性无关</h3><p>定义：（<del>超级无敌重要啊啊啊啊啊</del>）</p>
<ol>
<li><p>给定一向量组A：$\alpha_1,\alpha_2,\cdots,\alpha_m$，如果存在<strong>不全为零</strong>的数 $k_1,k_2,\cdots,k_m$，使得 $k_1\alpha_1+k_2\alpha_2+\cdots+k_m\alpha_m = \theta$，那么称向量组A是<strong>线性相关</strong>的</p>
</li>
<li><p>如果只有当 $k_1=k_2=\cdots=k_m=0$ 时，上述等式才成立，那么就是<strong>线性无关</strong>的</p>
</li>
</ol>
<p><strong>线性相关的充要条件是：$x_1\alpha_1+x_2\alpha_2+\cdots+x_m\alpha_m = \theta$（$Ax = \theta$） 有非零解</strong></p>
<p>最基本的结论：</p>
<ol>
<li><p>一个向量线性相关的充要条件是： $\alpha = \theta$ </p>
</li>
<li><p>一个向量线性无关的充要条件是： $\alpha \neq \theta$ </p>
</li>
<li><p>包含零向量的向量组是线性相关的</p>
</li>
<li><p><strong>如果一个向量组的部分向量组线性相关，则该向量组也线性相关</strong></p>
</li>
<li><p><strong>如果一个向量组线性无关，则其中任一个部分分量也线性无关</strong></p>
</li>
</ol>
<p>定理：</p>
<ol>
<li><p>向量组A：$\alpha_1,\alpha_2,\cdots,\alpha_m$（$m \geq 2$）<strong>线性相关</strong>的充要条件是：<u>向量组A中<strong>至少有一个</strong>向量可由其余 m-1 个向量线性表示</u></p>
</li>
<li><p>向量组A：$\alpha_1,\alpha_2,\cdots,\alpha_m$（$m \geq 2$）<strong>线性无关</strong>的充要条件是：<u>其中<strong>任何一个</strong>向量都不能由其余向量线性表示</u></p>
</li>
<li><p>设向量组A：$\alpha_1,\alpha_2,\cdots,\alpha_r$ 线性无关，而向量组B：$\alpha_1,\alpha_2,\cdots,\alpha_r,\beta$ 线性相关，<strong>则向量 $\beta$ 必可由向量组A线性表示，并且表达式唯一</strong></p>
</li>
<li><p>设向量组A：$\alpha_1,\alpha_2,\cdots,\alpha_r$ 线性无关，则向量组B：$\alpha_1,\alpha_2,\cdots,\alpha_r,\beta$ 线性无关的充分必要条件是<strong>向量 $\beta$ 不可能由向量组A线性表示</strong></p>
</li>
</ol>
<h3 id="向量线性相关性与矩阵秩的关系"><a href="#向量线性相关性与矩阵秩的关系" class="headerlink" title="向量线性相关性与矩阵秩的关系"></a>向量线性相关性与矩阵秩的关系</h3><ol>
<li><p><strong>n维列向量组A：$\alpha_1,\alpha_2,\cdots,\alpha_r$ 线性相关的充要条件是： $r(A) &lt; r$，线性无关的充要条件是： $r(A) = r$</strong></p>
<ul>
<li><u>向量个数m大于维数n</u>，则该向量组<strong>线性相关</strong></li>
</ul>
</li>
<li><p>n个n维向量<strong>线性无关</strong>的充要条件是<u>其行列式不为0</u></p>
</li>
<li><p>设 $A_{m \times n}$ 的秩 $r(A) = r \leq m$ ，且 A 的某 r 列（行）组成的矩阵含有不等于零的r阶子式，则此 r 列（行）向量线性无关</p>
</li>
</ol>
<h3 id="极大无关组和向量组的秩"><a href="#极大无关组和向量组的秩" class="headerlink" title="极大无关组和向量组的秩"></a>极大无关组和向量组的秩</h3><p>极大无关组定理推论：</p>
<ol>
<li><p>设 $\alpha_{i_1},\alpha_{i_2},\cdots,\alpha_{i_r}$ 是向量组 $\alpha_1,\alpha_2,\cdots,\alpha_m$ 的一个极大无关组，则向量组 $\alpha_1,\alpha_2,\cdots,\alpha_m$ 中的任一向量可由 $\alpha_{i_1},\alpha_{i_2},\cdots,\alpha_{i_r}$ <strong>线性唯一表示</strong></p>
</li>
<li><p>一个向量组的各个极大无关组所含向量个数相同</p>
</li>
</ol>
<ol>
<li><p>向量组和它的极大无关组等价</p>
</li>
<li><p>一个向量组的各个极大无关组是等价的</p>
</li>
<li><p><strong>两个向量组等价的充要条件是：<u>一组的一个极大无关组与另一组的一个极大无关组等价</u></strong></p>
</li>
</ol>
<p>向量组的秩：</p>
<ol>
<li><p><strong>等价的向量组必有相同的秩</strong></p>
</li>
<li><p>任一矩阵的秩与其行秩、列秩相等</p>
</li>
<li><p><strong>秩的重要性质</strong>：</p>
<ul>
<li><p>$r(A + B) \leq r(A) + r(B)$</p>
</li>
<li><p>$r(AB) \leq min\{r(A)，r(B)\}$</p>
</li>
<li><p><strong>若A，B都为n阶方阵，$r(AB) \geq r(A) + r(B) - n$</strong></p>
</li>
</ul>
</li>
</ol>
<h3 id="秩的不等式"><a href="#秩的不等式" class="headerlink" title="秩的不等式"></a>秩的不等式</h3><ol>
<li><p>$0 \leq r(A) \leq min(m, n)$</p>
</li>
<li><p>$r(kA) = r(A)$</p>
</li>
<li><p>$r(A) = r(A^T) = r(AA^T) = r(A^TA)$</p>
</li>
<li><p>对于$n \times n$矩阵$A$，有 $r(A^n) = r(A^{n+1})$</p>
</li>
<li><p>$max(r(A),r(B)) \leq r(A,B) \leq r(A) + r(B)$</p>
</li>
<li><p>$r(A + B) \leq r(A, B)$</p>
</li>
<li><p>$r(AB) \leq min(r(A), r(B))$</p>
</li>
<li><p>$r(\left(\begin{matrix}<br>A &amp; O \\<br>O &amp; B \\<br>\end{matrix}\right)) = r(A) + r(B)$</p>
</li>
<li><p>$r(A) + r(B) \leq r(\left(\begin{matrix}<br>A &amp; O \\<br>C &amp; B \\<br>\end{matrix}\right)) \leq r(A) + r(B) + r(C)$</p>
</li>
<li><p>$r(AB) \geq r(A) + r(B) - n$</p>
</li>
<li><p>若 $AB = O$，则 $r(A) + r(B) +\leq n$，其中n是A的列数</p>
</li>
</ol>
<h2 id="线性代数组解的结构"><a href="#线性代数组解的结构" class="headerlink" title="线性代数组解的结构"></a>线性代数组解的结构</h2><h3 id="线性方程组的可解性"><a href="#线性方程组的可解性" class="headerlink" title="线性方程组的可解性"></a>线性方程组的可解性</h3><p>线性方程组<strong>有解</strong>的充要条件是：<u>系数矩阵A的秩等于增广矩阵B的秩</u></p>
<ul>
<li>$r(A) = r(B) = n$ 时，方程组有唯一解</li>
<li>$r(A) = r(B) \leq n$ 时，方程组有无穷多组解</li>
<li>$r(A) \neq r(B)$ 时，方程组无解</li>
</ul>
<h3 id="齐次方程组解的结构"><a href="#齐次方程组解的结构" class="headerlink" title="齐次方程组解的结构"></a>齐次方程组解的结构</h3><ol>
<li><p>若 $\alpha_1,\alpha_2$ 是方程组 $Ax = \theta$ 的解，则<strong>其线性组合 $k_1\alpha_1 + k_2\alpha_2$ 也是该方程组的解</strong></p>
</li>
<li><p>设 $A \in R^ { m \times n}$，若 $r(A) = n$ 时，则 $Ax = \theta$ 只有零解；若 $r(A) &lt; n$，则 $Ax = \theta$ 有非零解</p>
<ul>
<li><p>方程组 $r(A) = n$，$A \in R^ { m \times n}$ <strong>有非零解</strong>的充要条件是：<u>|A| = 0</u></p>
</li>
<li><p>若 $A \in R^ { m \times n}$，且m &lt; n，则 $Ax = \theta$ 有非零解 </p>
</li>
</ul>
</li>
<li><p>若齐次方程有非零解，则该方程组的基础解系并不唯一</p>
</li>
<li><p><strong>若齐次方程组的系数矩阵A的秩为r，则其基础解系的向量个数为$n-r$</strong></p>
</li>
</ol>
<h3 id="非齐次方程组解的结构"><a href="#非齐次方程组解的结构" class="headerlink" title="非齐次方程组解的结构"></a>非齐次方程组解的结构</h3><p>若 $A\eta =  b$（$b \neq \theta$），则 $Ax =  b$ 的通解为 $\eta + \alpha$</p>
<ul>
<li>其中 $\alpha$ 为 $Ax =  \theta$ 的解（<strong>齐次方程的解</strong>）</li>
<li><strong>若 $Ax =  \theta$ 的基础解系为    $\alpha_1,\alpha_2,\cdots,\alpha_r$，则 $A\eta =  b$ 的通解为$\eta + k_1\alpha_1 + k_2\alpha_2 + \cdots + k_r\alpha_r$</strong></li>
</ul>
<h2 id="矩阵的特征值线性无关和特征向量"><a href="#矩阵的特征值线性无关和特征向量" class="headerlink" title="矩阵的特征值线性无关和特征向量"></a>矩阵的特征值线性无关和特征向量</h2><h3 id="相似矩阵"><a href="#相似矩阵" class="headerlink" title="相似矩阵"></a>相似矩阵</h3><p>对于同阶方阵A与B，如果存在<strong>可逆矩阵P</strong>，使得 $B = P^{-1}AP$，则称A相似于B，记为 $A \sim B$，P称为A到B的<strong>相似变换矩阵</strong></p>
<ul>
<li>相似矩阵满足等价关系三个性质</li>
</ul>
<p>相似矩阵性质：</p>
<ol>
<li><p>若 $A \sim B$，则|A| = |B|，从而A和B可逆性相同</p>
</li>
<li><p>若 $A \sim B$，且A或B可逆，则 $A^{-1} \sim B^{-1}$</p>
</li>
<li><p>若 $A \sim B$，则 $A^n \sim B^n$，$kA \sim kB$</p>
</li>
<li><p>若 $A \sim B$，则 $f(A) \sim f(B)$，其中 $f(x) = \alpha_nx^n + \alpha_{n-1}x^{n-1}+\cdots +\alpha_1x^1+\alpha_0x^0$ 为任意多项式</p>
</li>
<li><p><strong>相似矩阵具有相同的特征多项式，从而有相同的特征值</strong></p>
<ul>
<li>特征多项式相同的矩阵未必相似</li>
</ul>
</li>
<li><p><strong>相似矩阵具有相同的迹和行列式</strong></p>
</li>
</ol>
<h3 id="特征值和特征向量"><a href="#特征值和特征向量" class="headerlink" title="特征值和特征向量"></a>特征值和特征向量</h3><p><strong>特征多项式</strong>是：$|\lambda E - A| = 0$</p>
<ol>
<li><p>设方阵A有特征值 $\lambda$，$\xi_1,\xi_2$ 是属于$\lambda$ 的特征向量，则它们的<strong>任意不等于零向量的线性组合 $\eta = k_1\xi_1 + k_2\xi_2$ 仍是属于 $\lambda$ 的特征向量</strong></p>
<ul>
<li>属于 $\lambda$ 的特征向量有无数个</li>
</ul>
</li>
<li><p>若 $f(x)$ 为x的多项式，矩阵A有特征值 $\lambda$，则 $f(A)$ 有特征值 $f(\lambda)$</p>
</li>
<li><p>若n阶可逆方阵A的所有特征值为 $\lambda_1,\cdots,\lambda_n$（包含相同的特征值），则 $\lambda_i \neq 0$，且矩阵 $A^{-1}$ 的特征值为 $\lambda_1^{-1},\cdots,\lambda_n^{-1}$</p>
</li>
<li><p>若n阶矩阵A的特征值为 $\lambda_1,\cdots,\lambda_n$</p>
<ul>
<li><strong>主对角线之和等于特征值之和：$tr(A) = \sum_{i = 1}^n \lambda_i$</strong></li>
<li><strong>行列式的值等于特征值的乘积：$|A| = \prod_{i = 1}^n \lambda_i$</strong></li>
</ul>
</li>
<li><p>设A是一个块对角矩阵，$A =<br>\left(<br>\begin{matrix}<br>A_1 &amp; &amp; &amp; \\<br>&amp; A_2 &amp; &amp; \\<br>&amp; &amp; \ddots&amp;\\<br>&amp; &amp; &amp; A_m<br>\end{matrix}<br>\right)$<br>则A的特征多项式是 $A_1,A_2,\cdots,A_m$ 的特征多项式的乘积，于是 <strong>$A_1,A_2,\cdots,A_m$ 的所有特征值就是A的所有特征值</strong></p>
</li>
<li><p><u>m阶方阵AB与n阶方阵BA具有相同的非零特征值，且 $tr(AB) = tr(BA)$</u></p>
</li>
<li><p><strong>属于不同特征值的特征向量线性无关</strong></p>
</li>
<li><p>若 $\lambda_1,\lambda_2,\cdots,\lambda_n$ 是矩阵A的不同特征值，而A的属于 $\lambda_i$ 的线性无关的特征向量为 $\alpha_{i1},\alpha_{i2},\cdots,\alpha_{is_i}$，则向量组 $\alpha_{11},\cdots,\alpha_{1s_i},\alpha_{21},\cdots,\alpha_{2s_i},\cdots,\alpha_{m1},\cdots,\alpha_{ms_m}$ 线性无关</p>
</li>
<li><p><strong>设 $\lambda_0$ 是n阶方阵A的k重特征值，则A的属于特征值 $\lambda_0$ 的<u>线性无关</u>的特征向量的个数不超过k</strong></p>
</li>
</ol>
<h3 id="矩阵可对角化的条件"><a href="#矩阵可对角化的条件" class="headerlink" title="矩阵可对角化的条件"></a>矩阵可对角化的条件</h3><p>n阶矩阵可对角化的充要条件是：<strong>有n个线性无关的特征向量，且对角矩阵的主对角线由特征值组成，相似变换矩阵由属于相应特征值的特征向量构成</strong></p>
<ul>
<li><u>若n阶矩阵有n个互不相同的特征值，则矩阵可对角化</u></li>
</ul>
<p>n阶方阵可对角化的充要条件是：<strong>每个 $k_i$ 重特征值 $\lambda_i$ 对应的特征矩阵 $|\lambda_iE - A|$ 的秩为 $n-k_i$</strong></p>
<h3 id="向量内积"><a href="#向量内积" class="headerlink" title="向量内积"></a>向量内积</h3><ol>
<li>$(\alpha,\beta)=(\beta,\alpha)$</li>
<li>$(k\alpha,\beta)=k(\alpha,\beta)$</li>
<li>$(\alpha+\gamma,\beta)=(\alpha,\beta) + (\gamma,\beta)$</li>
<li>$(\alpha,\alpha)\geq0；(\alpha,\alpha)=0当且仅当\alpha = \theta$</li>
</ol>
<p>若 $(\alpha,\beta)=0$，则称 $\alpha$ 和 $\beta$ <strong>正交或垂直</strong></p>
<h3 id="正交向量和正交矩阵"><a href="#正交向量和正交矩阵" class="headerlink" title="正交向量和正交矩阵"></a>正交向量和正交矩阵</h3><p>若实矩阵满足 $A^TA=E$，则称A为<strong>正交矩阵</strong></p>
<ul>
<li><strong>若A，B是同阶的正交矩阵，那么AB也是正交矩阵</strong></li>
<li>E也为正交矩阵</li>
</ul>
<p>性质：</p>
<ol>
<li><p>正交向量组必线性无关</p>
</li>
<li><p>对于方阵A，下面一些条件互为<strong>等价</strong>：</p>
<ul>
<li><p><strong>A为正交矩阵</strong></p>
</li>
<li><p>$A^T=A^{-1}$</p>
</li>
<li><p>$AA^T=E$</p>
</li>
<li><p>A的列向量构成标准正交列向量组</p>
</li>
<li><p>A的行向量构成标准正交行向量组</p>
</li>
</ul>
</li>
<li><p>设A是n阶正交矩阵，$\lambda$ 是A的特征值，$\alpha$ 为n维列向量</p>
<ul>
<li><p>$|A|^2=1$（重要）</p>
</li>
<li><p>$(A\alpha)^T(\overline{A\alpha})=\alpha^T\overline{\alpha}$ </p>
</li>
<li><p>$|\lambda|=1$（也重要）</p>
</li>
</ul>
</li>
</ol>
<h3 id="实对称矩阵对角化"><a href="#实对称矩阵对角化" class="headerlink" title="实对称矩阵对角化"></a>实对称矩阵对角化</h3><p><strong>实对称矩阵一定可以对角化</strong></p>
<p>性质：</p>
<ol>
<li><p>实对称矩阵的特征值均是实数</p>
</li>
<li><p><strong>实对称矩阵的属于不同特征值的特征向量相互正交</strong></p>
</li>
<li><p>设有实n维单位列向量 $\beta$，则比能找到 n-1 个向量与 $\beta$ 一起构成由n个向量组成的标准正交向量组</p>
</li>
<li><p><strong>若A是实对称矩阵，则存在同阶的正交矩阵P使得 $P^TAP$ 是实对角矩阵，从而实对称矩阵可以对角化</strong></p>
</li>
</ol>
<h2 id="实二次型"><a href="#实二次型" class="headerlink" title="实二次型"></a>实二次型</h2><h3 id="线性变换"><a href="#线性变换" class="headerlink" title="线性变换"></a>线性变换</h3><p><strong>定义</strong>：$x = cy$（<del>宋浩说x一定写在前面，我觉得怎么不用</del>）</p>
<p>线性变换系数行列式为$|P| = \begin{vmatrix}<br>c_{11} &amp; c_{12} &amp; \cdots &amp;c_{1n}\\<br>x_{21} &amp; x_{22} &amp; \cdots &amp;x_{2n}\\<br>\vdots &amp; \vdots &amp;  &amp;\vdots\\<br>x_{n1} &amp; x_{n2}&amp; \cdots &amp;x_{nn}\\<br>\end{vmatrix}$</p>
<ul>
<li><p>如果$|P| \neq 0$，称为<strong>非异线性变换</strong>或<strong>非退化线性变换</strong></p>
</li>
<li><p>如果$|P| = 0$，称为<strong>奇异线性变换</strong>或<strong>退化线性变换</strong></p>
</li>
<li><p>如果P为正交矩阵，则称为<strong>正交变换</strong></p>
</li>
</ul>
<h3 id="合同"><a href="#合同" class="headerlink" title="合同"></a>合同</h3><p><strong>定义</strong>：同阶方阵A、B之间存在一个可逆矩阵P，使得$B = P^TA\:P$，那么称为A合同于B</p>
<ul>
<li>P称为<u>A到B的合同变换矩阵</u></li>
</ul>
<p><strong>合同关系是一个等价关系</strong></p>
<h3 id="二次型化简"><a href="#二次型化简" class="headerlink" title="二次型化简"></a>二次型化简</h3><p><strong>矩阵表示</strong>：$f(x_1,x_2,\cdots,x_n) = x^TA\:x$</p>
<ul>
<li>A是对称矩阵</li>
</ul>
<p><strong>定理</strong>：</p>
<ol>
<li><p>存在非退化的线性变换将实二次型化为标准形，且平方项系数可以任意次序排列</p>
</li>
<li><p>存在可逆矩阵将实对称矩阵合同变换为实对角矩阵，且对角元素可以任意次序排列</p>
</li>
</ol>
<p><strong>化简方法</strong>：</p>
<ul>
<li><p><strong>正交矩阵法</strong></p>
<ol>
<li><p>求解矩阵A的特征方程$|\lambda E-A| = 0$</p>
</li>
<li><p>求出基础解系</p>
</li>
<li><p>将标准正交化的特征向量作为列构成正交矩阵$P= \left(\begin{matrix}<br>p_{11} &amp; p_{12} &amp; p_{13}\\<br>p_{21} &amp; p_{22} &amp; p_{23}\\<br>p_{31} &amp; p_{32}&amp; p_{33}\\<br>\end{matrix}\right)$</p>
</li>
<li><p>得到线性变换$\begin{cases}<br>x_1 = p_{11}y_1 + p_{12}y_2 + p_{13}y_3\\<br>x_2 = p_{21}y_1 + p_{22}y_2 + p_{23}y_3\\<br>x_3 = p_{31}y_1 + p_{32}y_2 + p_{33}y_3<br>\end{cases}$</p>
</li>
</ol>
</li>
<li><p><strong>配方法</strong></p>
<ol>
<li><p><strong>式中有非零平方项比如$a_{11}x_1^2$</strong>：将式中所有含$x_1$的项配成一个平方项$a_{11}(x_{11} + \frac{a_12}{a_11}x_2 + \cdots + \frac{a_{1n}}{a11}x_n)^2$，并令非退化线性变换为$\begin{cases}<br>y_1 = x_1 + \frac{a_{12}}{a_{11}}x_2 + \cdots + \frac{a_{1n}}{a_{11}}x_n\\<br>y_2 = x_2\\<br>\cdots \cdots \\<br>y_n = x_n<br>\end{cases}$<br>即可把原式化为不含$x_1$和$y_1$的交叉项的式子</p>
</li>
<li><p><strong>式中无非零平方项</strong>：可以用一个线性变换配出平方项，例如$2a_{12}x_{1}x_{2}$，则作如下非退化线性变换<br>$\begin{cases}<br>x_1 = y_1 + y_2\\<br>x_2 = y_1 - y_2\\<br>x_3 = y_3 \\<br>\cdots \cdots \\<br>x_n = y_n<br>\end{cases}$，然后再按情况一处理</p>
</li>
</ol>
</li>
<li><p><strong>合同变换法</strong></p>
<ol>
<li><p>设二次型矩阵为$A = \left(\begin{matrix}<br>a_{11} &amp; a_{12} &amp; \cdots &amp;a_{1n}\\<br>a_{12} &amp; a_{22} &amp; \cdots &amp;a_{2n}\\<br>\vdots &amp; \vdots &amp;  &amp;\vdots\\<br>a_{n1} &amp; a_{n2}&amp; \cdots &amp;a_{nn}\\<br>\end{matrix}\right)$</p>
</li>
<li><p>对矩阵$B = \left(\begin{matrix}<br>A \\<br>E \\<br>\end{matrix}\right)$ <strong>做一次初等列变换后接着做一次对应的初等行变换</strong>，重复这种做法，直到得到$\left(\begin{matrix}<br>\Lambda \\<br>P \\<br>\end{matrix}\right)$，然后P的用法参考正交矩阵法</p>
</li>
</ol>
</li>
</ul>
<h3 id="二次型的规范形"><a href="#二次型的规范形" class="headerlink" title="二次型的规范形"></a>二次型的规范形</h3><p><strong>惯性定理</strong>：存在非退化的线性变换将实二次型化为实规范形 $z_1^2 + \cdots + z_p^2 - z_{p + 1}^2 - \cdots - z_r^2$ ；存在实可逆矩阵将实对称矩阵合同变换为 $diag(E_p,-E_{r-p},O_{n-r})$，其中r是二次型矩阵的秩</p>
<p><strong>推论</strong>：</p>
<ol>
<li><strong>实二次型矩阵A的正特征值个数为正惯性指数，负特征值个数为负惯性指数，非零特征值个数为二次型的秩</strong></li>
</ol>
<h3 id="正定二次型"><a href="#正定二次型" class="headerlink" title="正定二次型"></a>正定二次型</h3><p>若A为n阶是<strong>实对称</strong>矩阵，则下列条件互为等价：</p>
<ul>
<li><p>半正定等情况类似</p>
<ol>
<li><p><strong>A为正定矩阵</strong></p>
</li>
<li><p>A的特征值为正</p>
</li>
<li><p>A的正惯性指数为n</p>
</li>
<li><p><strong>A的各阶顺序主子式都为正</strong></p>
</li>
</ol>
</li>
</ul>
<h2 id="线性空间与线性变换"><a href="#线性空间与线性变换" class="headerlink" title="线性空间与线性变换"></a>线性空间与线性变换</h2><h3 id="数环"><a href="#数环" class="headerlink" title="数环"></a>数环</h3><p>属于集合 $R$ 的任意两个数的和、差、积仍属于 $R$，则称这个集合 $R$ 为数环</p>
<ul>
<li><strong>任何数环必有0</strong></li>
</ul>
<h3 id="数域"><a href="#数域" class="headerlink" title="数域"></a>数域</h3><p>若 $K$ 是<strong>至少含有两个互异数</strong>的数环，且其中任何两个数之商仍属于 $K$ ，则称这个集合 $K$ 为数域</p>
<ul>
<li><strong>任何数域必有0和1</strong></li>
</ul>
<h3 id="线性空间"><a href="#线性空间" class="headerlink" title="线性空间"></a>线性空间</h3><p>设 $V$ 是一个非空集合，$K$ 是一个属于，V满足以下两个条件：</p>
<ol>
<li><p>在 $V$ 中定义一个封闭的加法运算，即当 $x,y \in V$ 时，有唯一的 $z = x + y \in V$，且满足：</p>
<ul>
<li><p>$x + y = y + x$</p>
</li>
<li><p>$x + (y + z) = (x + y) + z$</p>
</li>
<li><p>存在<strong>零元素</strong> $0 \in V$，对 $V$ 中任意元素 $x$，都有 $x + 0 = x$</p>
</li>
<li><p>存在<strong>负元素</strong>：对任一元素 $x \in V$，存在一个元素 $y \in V$，使得 $x + y = 0$，称 $y$ 为 $x$ 的负元素，记为 $-x$，即 $x + (-x) = 0$</p>
</li>
</ul>
</li>
<li><p>在 $V$ 中定义一个封闭的数乘运算，即当 $x \in V,\lambda \in K$ 时，有唯一的 $\lambda x \in V$，且满足：</p>
<ul>
<li><p>$(\lambda + \mu)x = \lambda x + \mu x$</p>
</li>
<li><p>$\lambda(x + y) = \lambda x + \lambda y$</p>
</li>
<li><p>$\lambda(\mu x) = (\lambda \mu)x$</p>
</li>
<li><p>$1\cdot x = x$</p>
</li>
</ul>
</li>
</ol>
<p>我们称 $V$ 是属于 $K$ 上的线性空间，记作 $V(K)$</p>
<p>性质：</p>
<ol>
<li><p>线性空间的零元素是唯一的</p>
</li>
<li><p>线性空间中任一元素的负元是唯一的</p>
</li>
<li><p>设 $0,1,-1,\lambda \in K,x,-x,0 \in V$，则有：</p>
<ul>
<li><p>$0x = 0$</p>
</li>
<li><p>$(-1)x = -x$</p>
</li>
<li><p>$\lambda 0 = 0$</p>
</li>
<li><p>若 $\lambda x = 0$，则 $\lambda = 0$ 或 $x = 0$</p>
</li>
</ul>
</li>
</ol>
<p>只含一个元素的线性空间称为<strong>零空间</strong></p>
<ul>
<li>那个元素就是零元素</li>
</ul>
<h3 id="基与坐标"><a href="#基与坐标" class="headerlink" title="基与坐标"></a>基与坐标</h3><p>设 $V$ 是数域 $K$ 上的线性空间，</p>
<ol>
<li><p>如果在 $V$ 中可以找到任意多个线性无关的向量，则称 $V$ 是<strong>无限维线性空间</strong></p>
</li>
<li><p>如果存在有限多个向量 $a_1, a_2, \cdots, a_n \in V$，满足：</p>
<ol>
<li><p>$a_1, a_2, \cdots, a_n$ 线性无关</p>
</li>
<li><p>$V$ 中任一向量都可由 $a_1, a_2, \cdots, a_n$ 线性表示</p>
<p>则称 $V$ 是<strong>有限维线性空间</strong>，称 $a_1, a_2, \cdots, a_n$ 是V的一组<strong>基</strong>（<strong>基底</strong>），$a_i$ 叫第 $i$ 个<strong>基向量</strong>，基向量的个数 $n$ 称为线性空间的<strong>维数</strong>，记为 $dim(V) = n$，并称 $V$ 是 $n$ 维线性空间</p>
</li>
</ol>
</li>
</ol>
<p>定理：</p>
<ol>
<li><p><strong>设 $a_1, a_2, \cdots, a_n$ 是 $n$ 维线性空间 $V$ 的一组基，对任意 $a \in V$，$a$ 可以唯一地由这一组基线性表出</strong></p>
<p>设 $a_1, a_2, \cdots, a_n$ 是 $n$ 维线性空间 $V$ 的一组基，对任意 $a \in V$，若有一组有序数 $x_1,x_2,\cdots,x_n$ 使得 $a$可表示为 $a = x_1a_1 + x_2a_2 + \cdots + x_na_n$，这组有序数就称为向量 $a$ 在基 $a_1, a_2, \cdots, a_n$ 下的<strong>坐标</strong>，记为 $x = (x_1,x_2,\cdots,x_n)$ 或 $x = (x_1,x_2,\cdots,x_n)^T$</p>
</li>
</ol>
<h3 id="基变换和坐标变换"><a href="#基变换和坐标变换" class="headerlink" title="基变换和坐标变换"></a>基变换和坐标变换</h3><p>设 $\alpha_1, \alpha_2, \cdots, \alpha_n$ 和 $\beta_1,\beta_2,\cdots,\beta_n$ 是 $n$ 维线性空间 $V$ 的两组基，并且 $(\beta_1,\beta_2,\cdots,\beta_n) = (\alpha_1, \alpha_2, \cdots, \alpha_n)P$，若  $V$ 中任意元素 $\alpha$ 在这两组基下的坐标分别是 $(x_1,x_2,\cdots,x_n)$ 和 $(y_1,y_2,\cdots,y_n)$</p>
<ul>
<li>存在 $(y_1,y_2,\cdots,y_n)^T = P^{-1}(x_1,x_2,\cdots,x_n)^T$</li>
</ul>
<h3 id="子空间"><a href="#子空间" class="headerlink" title="子空间"></a>子空间</h3><p>线性空间 $V$ 的一个非空子集 $W$ 是 $V$ 的子空间的<strong>充要条件</strong>：</p>
<ol>
<li><p>对任意 $\alpha , \beta \in W$，有 $\alpha +\beta \in W$，即对<strong>加法封闭</strong></p>
</li>
<li><p>对任意 $\alpha  \in W,\lambda \in K$，有 $\lambda \alpha  \in W$，即对<strong>数乘封闭</strong></p>
</li>
</ol>
<p>线性空间 $V$ 的一个非空子集 $W$ 是 $V$ 的子空间的<strong>充要条件</strong>：</p>
<ol>
<li>对任意的 $\alpha , \beta \in W,\lambda,\mu \in K$，有 $\lambda \alpha +\mu \beta \in W$</li>
</ol>
<p>齐次方程组的全体解向量是 $R^n$ 的一个非空子集 $W$ ，<strong>则 $W$ 是 $R^n$ 的一个子空间</strong>，该齐次方程组的任一组基础解系是 $W$ 的一组基，<strong>若这个方程组系数矩阵的秩为 $r$ ，则 $dim(W) = n -r$</strong></p>
<ul>
<li>这个子空间称为齐次方程组的<strong>解空间</strong></li>
</ul>
<h3 id="子空间的交与和"><a href="#子空间的交与和" class="headerlink" title="子空间的交与和"></a>子空间的交与和</h3><ol>
<li><p>数域 $K$ 上线性空间 $V$ 的两个子空间 $W_1,W_2$的交与和仍是$V$ 的子空间</p>
</li>
<li><p><strong>若 $W_1,W_2$ 是线性空间 $V$ 的两个有限维子空间，则 $dim(W_1) + dim(W_2) = dim(W_1 + W_2) + dim(W_1 \cap W_2 )$</strong></p>
</li>
</ol>
<h3 id="子空间的直和"><a href="#子空间的直和" class="headerlink" title="子空间的直和"></a>子空间的直和</h3><p>若 $W_1 + W_2$ 中任一向量都只能<strong>唯一地表示</strong>为子空间 $W_1$ 的一个向量与子空间 $W_2$ 的一个向量和，则称 $W_1 + W_2$  是直和，记为 $W_1 \oplus W_2$</p>
<p>定理：</p>
<ol>
<li><p>$W_1 + W_2$ 是直和的<strong>充要条件</strong>：$W_1 \cap W_2 = \{0\}$</p>
</li>
<li><p>$W_1 + W_2$ 是直和的<strong>充要条件</strong>：$dim(W_1 + W_2) = dim(W_1) + dim(W_2)$</p>
</li>
</ol>
<p>若 $W_1,W_2,\cdots W_m$ 是线性空间 $V$ 的子空间，若</p>
<ul>
<li><p>$W_1 + W_2 +\cdots +W_m = V$</p>
</li>
<li><p>$W_1 \cap W_2 = \{0\},(W_1 + W_2) \cap W_3 = \{0\}, \cdots ,(W_1 + W_2 + \cdots + W_{m-1}) \cap W_m = \{0\}$</p>
</li>
</ul>
<p>则 $V$ 是 $W_1,W_2,\cdots W_m$ 的直和</p>
<h3 id="线性变换-1"><a href="#线性变换-1" class="headerlink" title="线性变换"></a>线性变换</h3><p>如果 $V_1$ 到 $V_2$ 的映射满足：$T(\lambda \alpha +\mu \beta) = \lambda T \alpha + \mu T \beta$，则称 $T$ 为 $V_1$ 到 $V_2$ 的<strong>线性映射</strong></p>
<ul>
<li><p>其中 $\alpha,\beta \in V_1,\lambda \in K$</p>
</li>
<li><p>在 $V_1 = V_2 = V$ 时，称这个 $T$ 为 $V$ 上的<strong>线性变换</strong></p>
</li>
</ul>
<p><strong>线性映射性质</strong>：</p>
<ol>
<li><p>$T0 = 0$</p>
</li>
<li><p>对任意的 $\alpha_1,\alpha_2,\cdots,\alpha_m \in V_1$，有 $T(K_1\alpha_1 + k_2\alpha_2 + \cdots k_m\alpha_m) = k_1T\alpha_1 + k_2T\alpha_2 + \cdots + k_mT\alpha_m$</p>
</li>
<li><p><strong>若 $\alpha_1,\alpha_2,\cdots,\alpha_m$ 线性相关，则 $T\alpha_1,T\alpha_2,\cdots,T\alpha_m$ 也线性相关</strong></p>
</li>
</ol>
<p>特殊的线性变换：</p>
<ul>
<li><p><strong>数乘变换</strong>：对任意 $\alpha \in V$，有 $T_k\alpha = k\alpha$</p>
</li>
<li><p><strong>恒等变换</strong>：$T\alpha = \alpha$</p>
</li>
<li><p><strong>零变换</strong>：$T\alpha = 0$</p>
</li>
</ul>
<h3 id="像空间和核空间"><a href="#像空间和核空间" class="headerlink" title="像空间和核空间"></a>像空间和核空间</h3><p>若 $V_1,V_2$ 都是数域 $K$ 上线性空间，有线性映射$T:V_1 \rightarrow V_2$</p>
<ul>
<li><p><strong>像空间</strong>：$V_1$ 中所有元素的像的集合</p>
</li>
<li><p><strong>核空间</strong>：集合 $N = N(T) = \{\alpha:T\alpha = 0,\alpha \in V_1\}$，记作 $ker(T)$</p>
</li>
</ul>
<p>定理：</p>
<ol>
<li><strong>线性映射的像空间和核空间是线性子空间</strong></li>
</ol>
<h3 id="线性变换的矩阵表示"><a href="#线性变换的矩阵表示" class="headerlink" title="线性变换的矩阵表示"></a>线性变换的矩阵表示</h3><p><strong>定义</strong>：</p>
<ol>
<li><p>设线性变换的矩阵为 $A$，则存在 $(T\varepsilon_1,T\varepsilon_2,\cdots,T\varepsilon_n) = (\varepsilon_1,\varepsilon_2,\cdots,\varepsilon_n)A$</p>
<ul>
<li><strong>$A$ 的第 $i$ 个列向量是 $T\varepsilon_i$ 在基 $\varepsilon_1,\varepsilon_2,\cdots,\varepsilon_n$ 下的坐标</strong></li>
</ul>
</li>
<li><p>设由基底 $\varepsilon_1,\varepsilon_2,\cdots,\varepsilon_n$ 到 $\omega_1,\omega_2,\cdots,\omega_n$ 的过度矩阵为 $P$，也就是 $(\omega_1,\omega_2,\cdots,\omega_n) = (\varepsilon_1,\varepsilon_2,\cdots,\varepsilon_n)P$，而且<strong>线性变换的矩阵分别为 $A,B$</strong>，那么有以下结论：</p>
<ul>
<li><p><strong>$B = P^{-1}AP$，可以看出 $P$ 必须可逆</strong></p>
</li>
<li><p>$A$ 相似于 $B$</p>
</li>
</ul>
</li>
</ol>
<p><strong>定理</strong>：</p>
<ol>
<li><p>对 $V$ 的两个线性变换 $T_1,T_2$，有 $T_1 \varepsilon_i = T_2\varepsilon_i$，则 $T_1 = T_2$</p>
</li>
<li><p>$A \sim B$ 的<strong>充要条件</strong>：<u>它们是 $n$ 维的线性空间 $V$ 上的某个线性变换 $T$ 在不同基底下的矩阵</u></p>
</li>
</ol>
<h3 id="线性变换的特征值和特征向量"><a href="#线性变换的特征值和特征向量" class="headerlink" title="线性变换的特征值和特征向量"></a>线性变换的特征值和特征向量</h3><p><strong>特征子空间</strong>：线性变换 $T$ 对应于特征值 $\lambda$ 的子空间 $V_{\lambda} = \{\xi \in V:T\xi = \lambda \xi\}$</p>
<ul>
<li>包括对应于 $\lambda$ 的所有特征向量和零向量</li>
</ul>
<p><strong>最简表示</strong>：线性变换 $T$ 在某组基上的矩阵为<strong>对角矩阵</strong></p>
<p>定理：</p>
<ol>
<li><p><strong>有限维线性空间上的线性变换的特征值和特征多项式与所选基底无关</strong></p>
</li>
<li><p>设 $\lambda_1,\lambda_2,\cdots,\lambda_s$ 是线性变换 $T$ 的 $s$ 个<strong>互异</strong>的特征值，$\xi_i$ 是属于特征值 $\lambda_i$ 的特征向量，则 $\xi_1,\xi_2,\cdots,\xi_s$ 线性无关</p>
</li>
<li><p>$n$ 维线性空间上的一个线性变换 $T$ 有最简表示的<strong>充要条件</strong>： $T$ 有 $n$ 个线性无关的特征向量</p>
<ul>
<li>$T$ 有 $n$ 个互异的特征值（<strong>充分条件</strong>）</li>
</ul>
</li>
<li><p>若 $\xi_1,\xi_2,\cdots,\xi_s$ 和 $\nu_1,\nu_1,\cdots,\nu_s$ 分别是线性变换 $T$ 不同特征值的<strong>线性无关</strong>的特征向量，则 $\xi_1,\xi_2,\cdots,\xi_s$；$\nu_1,\nu_1,\cdots,\nu_s$ 线性无关</p>
</li>
<li><p><strong>若 $\lambda_0$ 是线性变换 $T$ 的 $s$ 重特征值，则属于 $\lambda_0$ 的特征向量中，线性无关的最大组包含的向量个数不超过 $s$</strong></p>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://misayaas.github.io/2023/11/06/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97%E2%80%94%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.jpg">
      <meta itemprop="name" content="花花花铃">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Misayaas">
      <meta itemprop="description" content="万头攒动，火树银花之处不必寻我">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Misayaas">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/06/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97%E2%80%94%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/" class="post-title-link" itemprop="url">网络层</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-11-06 15:31:16" itemprop="dateCreated datePublished" datetime="2023-11-06T15:31:16+08:00">2023-11-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-11-20 15:42:37" itemprop="dateModified" datetime="2023-11-20T15:42:37+08:00">2023-11-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/" itemprop="url" rel="index"><span itemprop="name">互联网计算</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>7.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>13 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li>对于不同帧使用同一方案进行处理</li>
<li>希望通过<strong>路由选择算法</strong>进行路径选择和转发，对第二层是透明的</li>
<li>只能避免拥塞，<strong>不能流量控制</strong></li>
</ul>
<h3 id="职责"><a href="#职责" class="headerlink" title="职责"></a>职责</h3><ul>
<li>使用<strong>分层寻址方案</strong>，方便逐步细化目的地地址</li>
<li>细分网络并控制流量</li>
<li>减少交通堵塞，基于IP做<strong>分段和传达</strong>，用来减少拥塞</li>
<li>与其他网络交谈</li>
<li>对于不同的数据链路层的帧，第三层基于IP协议，来实现<strong>跨介质</strong>的逻辑理解和互通</li>
<li><p>负责进行连通和传达，<strong>数据可靠性由终端设备（第四层及以上）来进行保证</strong></p>
<p><strong>路由器</strong>  </p>
<ul>
<li>互连网段或网络（分割网段）</li>
<li>根据IP地址做出合理的决定</li>
<li><u>根据路由表确定最佳路径</u></li>
<li>将数据报从入站端口切换到出站端口</li>
</ul>
</li>
</ul>
<ol>
<li>如果A网段的设备向路由器发送了一个B网段的广播地址，那么路由器会进行转发</li>
<li>如果A网段的设备发送的是<strong>本网段</strong>的广播地址，那么路由器不会进行转发（广播域划分）</li>
</ol>
<h2 id="IP协议"><a href="#IP协议" class="headerlink" title="IP协议"></a>IP协议</h2><p>网际协议IP是TCP/IP体系中两个最主要的协议之一，配套使用的还有三个协议：</p>
<ul>
<li><strong>地址解析协议ARP</strong>(Address Resolution Protocol)</li>
<li><strong>网际控制报文协议ICMP</strong>(Internet Control Message Protocol)</li>
<li><strong>网际组管理协议IGMP</strong>(Internet Group Management Protocol)</li>
</ul>
<h3 id="IP数据报格式"><a href="#IP数据报格式" class="headerlink" title="IP数据报格式"></a>IP数据报格式</h3><p>数据格式常以32位（4字节）为单位来描述</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9ub3RlLnlvdWRhby5jb20veXdzL3B1YmxpYy9yZXNvdXJjZS8zNTllMDhhNTJmNjRkZWFhYzU1M2FkYjAxMzIzMjdhZC94bWxub3RlLzkxOTFDRjYzQkY0OTQzMENBM0I4RTY3NDA3OTBBMDA5LzE0MTY5?x-oss-process=image/format,png" alt="IP数据报格式_片偏移怎么计算_小皮子摘星星的博客-CSDN博客"></p>
<ul>
<li>首部的前一部分是<strong>固定长度</strong>，共20字节</li>
<li>首部固定部分后面是一些<strong>可选字段</strong>，长度可变</li>
</ul>
<p>首部固定部分中的各字段：</p>
<ol>
<li><p><strong>版本</strong>：IP协议的版本，共4位，广泛使用的版本是IPv4</p>
</li>
<li><p><strong>首部长度</strong>：首部长度的表示单位是<strong>32位字</strong>（4字节），可表示的最大十进制数值是15，共4位</p>
<ul>
<li>由于首部的固定长度是20字节，所以<u>首部长度字段最小值为5，最大值为60字节（$15 \times 4 = 60$）</u></li>
<li>IP分组的首部长度不是4的字节时，必须利用最后的填充字段加以填充，因此<strong>数据部分永远在4字节的整数倍开始</strong></li>
<li>最常用的是20字节，即首部长度为0101</li>
</ul>
</li>
<li><p><strong>区分服务</strong>：在旧标准中叫做<strong>服务类型</strong>，共8位，一般情况不使用这个字段</p>
</li>
<li><p><strong>总长度</strong>：首部和数据部分的长度和，单位为<strong>字节</strong>，共16位</p>
<ul>
<li>数据链路层设置了最大传输单元MTU，因此数据报的总长度不能超过规定的MTU值，不然会将数据报进行<strong>分片</strong>处理</li>
</ul>
</li>
<li><p><strong>标识(identification)</strong>：IP软件在存储器中维持一个计数器，每产生一个数据报计数器+1，并将此值赋给标识字段，当产生分片时就将标识字段的值复制给每一个分片，<strong>便于重装为完整的数据报</strong>，共16位</p>
</li>
<li><p><strong>标志(flag)</strong>：共3位，但只有两位有意义</p>
<ul>
<li>最低位为<strong>MF</strong>(More Fragment)，MF = 1表示后面还有分片，MF = 0表示这时若干数据报片的最后一个</li>
<li>中间一位是<strong>DF</strong>(Don’t Fragment)，表示不能分片，只有DF = 0才允许分片</li>
</ul>
</li>
<li><p><strong>片偏移</strong>：指出分片在原分组的相对位置（<u>相对于起点在何处开始</u>），偏移单位为<strong>8字节</strong>，共13位</p>
</li>
<li><p><strong>生存时间</strong>：数据报在网络中的寿命，防止无法交付的数据报无限制地在互联网中兜圈子，现在功能为<strong>跳数限制</strong>（至多可经过几个路由器），共8位</p>
</li>
<li><p><strong>协议</strong>：指出数据报携带的数据是使用何种协议，共8位</p>
</li>
</ol>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625195505983.png" alt=""></p>
<ol>
<li><p><strong>首部校验和</strong>： 这个字段只检验数据报的首部，共16位</p>
</li>
<li><p>源地址：共32位</p>
</li>
<li><p>目的地址：共32位</p>
</li>
</ol>
<p>首部可变部分：<br>可变部分就是一个选项字段，选项字段用来支持排错、测量以及安全等措施，内容很丰富，最后用全0的填充字段补齐成为4字节的整数倍</p>
<h3 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h3><p>IP地址就是给互联网上的每一台主机（或路由器）的每一个端口分配一个在全世界范围内<strong>唯一</strong>的32位标识符</p>
<p>IP地址分为若干类，但都由两个固定长度的字段组成，分别是<strong>网络号</strong>和<strong>主机号</strong><br><img src="https://bbsmax.ikafan.com/static/L3Byb3h5L2h0dHBzL2ltYWdlczIwMTcuY25ibG9ncy5jb20vYmxvZy8xMzIxMTc5LzIwMTgwMS8xMzIxMTc5LTIwMTgwMTMwMTA1MjExODU5LTExMjIwNjczMjUucG5n.jpg" alt="如何对IP地址进行子网划分？"></p>
<ul>
<li>D类地址为<strong>组播/多播</strong>（一对多）</li>
<li>通常写法是<strong>点分十进制</strong>（每8位二进制加一个点）</li>
</ul>
<p>A类：0 ~127<br>B类：128~192<br>C类：192~223<br>D类：224~239<br>E类：240~255</p>
<p><strong>A类网络号只有7位可指派，但是一般不能指派全0和全1</strong></p>
<ul>
<li>全0表示本网络</li>
<li>全1用于环回测试（根本不是一个网络地址）</li>
</ul>
<p><strong>B类网络号只有14位可指派，但是网络地址128.0.0.0是不指派的</strong></p>
<ul>
<li>B类开始IP地址是128.1.0.0</li>
</ul>
<p><strong>C类网络号只有21位可指派，但是网络地址192.0.0.0是不指派的</strong></p>
<ul>
<li>C类开始IP地址是192.0.1.0</li>
</ul>
<p><strong>主机号一般不能取全0，也不能取全1</strong></p>
<ul>
<li>全0用来标识网段地址</li>
<li>全1用来表示网段的广播地址</li>
</ul>
<p><img src="https://tse1-mm.cn.bing.net/th/id/OIP-C.TYNOsvDz4d7HKYChR9cb_gHaCW?w=350&amp;h=110&amp;c=7&amp;r=0&amp;o=5&amp;dpr=1.5&amp;pid=1.7" alt="一般不使用特殊IP地址 的图像结果"></p>
<ul>
<li>用交换机或网桥连接起来的若干个<strong>局域网</strong>仍属于一个网络</li>
<li>IP地址是一种逻辑地址</li>
</ul>
<h3 id="划分子网和构造超网"><a href="#划分子网和构造超网" class="headerlink" title="划分子网和构造超网"></a>划分子网和构造超网</h3><p>早期IP地址的设计不够合理，主要体现在：</p>
<ul>
<li><strong>IP地址空间利用率有时很低</strong></li>
<li><strong>两级IP地址不够灵活</strong></li>
</ul>
<p><strong>划分子网</strong>(subnetting)：在IP地址中增加一个<strong>子网号字段</strong>，也叫做子网寻址或者子网路由选择</p>
<ul>
<li>从<strong>主机号</strong>借用若干位作为子网号，从而变成三级IP地址：<u>网络号、子网号、主机号</u></li>
<li>减小了广播域，提高网络利用率</li>
</ul>
<p>子网可以借用的位数：</p>
<ul>
<li><strong>最小位数是2</strong>：当只借用1位时就只能表示本网络和广播</li>
<li><strong>最大位数可以是保留<u>至少2位主机号</u>的任何数字</strong><ul>
<li>A类20位</li>
<li>B类14位</li>
<li>C类6位</li>
</ul>
</li>
<li>借用4位是最高效率的</li>
</ul>
<p>32位IP地址本身以及数据报首部都没有包含任何有关子网划分的信息，因此我们可以使用<strong>子网掩码</strong>(subnet mask)来确认数据报属于哪个子网</p>
<ul>
<li>把网络号和子网号全赋1，主机号全赋0<br><img src="https://tse3-mm.cn.bing.net/th/id/OIP-C.Yru1afxE6AChjauViBlaKgHaDe?pid=ImgDet&amp;rs=1" alt="计算机网络子网划分相关知识点 | 张甲博客"></li>
</ul>
<p>子网掩码和IP地址<strong>逐位相与</strong>，就可以得到子网的网络地址<br><img src="https://tse3-mm.cn.bing.net/th/id/OIP-C.fjola4pnIU8GGA84wtpjSwAAAA?pid=ImgDet&amp;rs=1" alt="IP2——IP地址和子网划分学习笔记之《子网掩码详解》 - 白灰 - 博客园"></p>
<ul>
<li>不管有没有划分子网，与运算后都能得出网络地址</li>
</ul>
<p><strong>默认子网掩码</strong>：</p>
<ul>
<li>A类：255.0.0.0</li>
<li>B类：255.255.0.0</li>
<li>C类：255.255.255.0</li>
</ul>
<p>子网数 = $2 ^ n$ - 2</p>
<ul>
<li>子网号有n位</li>
<li>除去全0和全1（实际上在CIDR协议中已经可以使用这两种情况了）</li>
</ul>
<p><strong>无分类编制CIDR（构建超网）</strong>：<br>在一个划分子网的网络中可同时使用几个不同的子网掩码，使用<strong>可变子网掩码VLSM</strong>(Variable Length Subnet Mask)可进一步提高IP地址资源利用率。在VLSM的基础上又进一步研究出<strong>无分类编制路由选择CIDR</strong>(Classless Inter-Domain Routing)</p>
<ol>
<li><p><strong>网络前缀</strong> </p>
<p> <u>CIDR消除了传统的A类、B类、C类地址以及划分子网的概念</u>，而是把互联网地址分为<strong>网络前缀和主机号</strong></p>
<ul>
<li>使用<strong>斜计线法</strong>（CIDR记法），即在IP地址后面加上斜线“\”，然后写上网络前缀所占的位数</li>
<li><p>把<strong>网络前缀相同的连续IP地址</strong>组成一个“CIDR地址块”，我们只要知道CIDR地址块中任何一个地址，就可以知道<u>起始地址和最大地址以及地址数</u></p>
<p>为了更方便的进行路由选择，CIDR使用32位的<strong>地址掩码</strong>(address mask)，也可以继续称作子网掩码</p>
</li>
<li>网络前缀赋为1，主机号赋为0</li>
<li><p>分配到地址块后仍可以划分子网，但是借用的位应当加入到网络前缀</p>
<p>路由表利用CIDR地址块查找目的网络，这种地址的聚合常称为<strong>路由聚合</strong>(route aggregation)，也称为<strong>构成超网</strong></p>
<p>CIDR记法有多种形式：</p>
</li>
<li>地址块10.0.0.0/10可以简写为10/10，也就是<u>把点分十进制中低位连续的0省略</u></li>
<li><p>在网络前缀的后面加个*，例如00001010 00*，意思是<u>*之前是网络前缀，*之后是主机号，可以是任意数字</u></p>
<p>从表格可以看出，除了最后几行，CIDR地址块都包含了多个C类地址（$2^n$倍），这就是<strong>构成超网</strong>一词的由来<img src="https://www.alloll.com/uploads/allimg/191126/1-191126150R3208.jpg" alt="划分子网和构造超网之无分类编址 CIDR_ 融合统一通信常见问题"></p>
</li>
<li><strong>网络前缀越短，包含的地址数越多</strong></li>
</ul>
</li>
<li><p><strong>最长前缀匹配</strong>（最长匹配/最佳匹配）<br>路由表项目和由<strong>网络前缀</strong>和<strong>下一跳地址</strong>组成</p>
<ul>
<li>可能查找路由表时不止一个结果</li>
</ul>
</li>
</ol>
<p>应该在匹配结果中选择具有<strong>最长网络前缀</strong>的路由</p>
<ol>
<li><strong>利用二叉线索查找路由表</strong><br>先找出对应于每一个IP地址的<strong>唯一前缀</strong><ul>
<li>唯一前缀就是在表中所有IP地址中，该前缀是唯一的</li>
</ul>
</li>
</ol>
<p><img src="https://tse2-mm.cn.bing.net/th/id/OIP-C.vmExsKBOvcUMvOS2VKIXdQHaCj?w=332&amp;h=120&amp;c=7&amp;r=0&amp;o=5&amp;dpr=1.5&amp;pid=1.7" alt="二叉线索查找路由表 的图像结果"></p>
<h2 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h2><p>路由器有两个功能：<strong>路径选择、分组转发</strong><br><img src="https://tse3-mm.cn.bing.net/th/id/OIP-C.mjDbeOQEQ6KjI4n-2QWWIAHaD_?w=288&amp;h=180&amp;c=7&amp;r=0&amp;o=5&amp;dpr=1.5&amp;pid=1.7" alt="二叉线索查找路由表 的图像结果"></p>
<ol>
<li><p><strong>分组转发</strong><br><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220419103046677.png" alt=""></p>
<ul>
<li>在分类子网划分时，全0代表本机地址，全1代表广播地址</li>
<li><strong>做转发根据的是网段而不是具体的IP</strong></li>
</ul>
</li>
<li><p><strong>路径选择</strong><br>路由器根据路由规范，选择他当时认为最合适的路径</p>
<ul>
<li>选择数据包到达目的地的路径中的下一跳</li>
</ul>
</li>
</ol>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625100437411.png" alt=""></p>
<h3 id="路由器端口："><a href="#路由器端口：" class="headerlink" title="路由器端口："></a>路由器端口：</h3><p>接口是路由器连接到网络的附件，在IP路由中也可以称为<strong>端口</strong></p>
<ul>
<li>这个IP地址往往被称作这个<strong>网络的网关</strong></li>
<li>每个接口必须有一个单独的唯一网络地址<ul>
<li>比如S1和S2不能相同</li>
<li>路由器的连接的网段一定要不同·</li>
</ul>
</li>
</ul>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625100523538.png" alt=""></p>
<blockquote>
<ol>
<li>路由器端口记录了网段的IP地址（和连接的地方是相同的）</li>
<li>在计算需要分配的端口总数时，注意路由器的端口也需要算上</li>
</ol>
</blockquote>
<h3 id="IP地址分配："><a href="#IP地址分配：" class="headerlink" title="IP地址分配："></a>IP地址分配：</h3><ol>
<li><p><strong>静态地址分配</strong>(Static addressing)</p>
<ul>
<li>为每个单独的设备配置一个IP地址</li>
<li>保证不重复</li>
<li>需要知道规范，通过命令行进行分配</li>
</ul>
</li>
<li><p><strong>动态地址分配</strong>(Dynamic addressing)</p>
<ul>
<li><strong>反向地址解析RARP</strong>(Reverse Address Resolution Protocol)：发起请求根据IP地址信息来分配</li>
<li><strong>BOOTStrap协议(BOOTP)</strong>：用于工作栈 </li>
<li><strong>动态主机配置协议DHCP</strong>(Dtnamic Host Configuration Protocol)：IP地址和掩码处理后得到网络地址，保证每个网段中的主机的网段地址一致</li>
</ul>
</li>
</ol>
<h3 id="地址解析协议ARP"><a href="#地址解析协议ARP" class="headerlink" title="地址解析协议ARP"></a>地址解析协议ARP</h3><p><strong>ARP协议通过IP地址解析出MAC地址</strong></p>
<ul>
<li>在IP层抽象的互联网上只能看到IP数据报</li>
<li>在局域网的链路层只能看见MAC帧</li>
</ul>
<p>ARP协议在主机ARP高速缓存中存放一个从IP地址到硬件地址的映射表，并且<strong>动态更新</strong></p>
<ul>
<li>每台主机都设有一个ARP高速缓存(ARP cache)，里面有<strong>本局域网</strong>各主机和路由的IP地址到硬件地址的映射表（已知）</li>
</ul>
<p>主机A向<strong>本局域网</strong>上的主机B发送IP数据报过程：</p>
<ol>
<li><p>先在ARP高速缓存中查看有无主机B的IP地址</p>
<ul>
<li>如果有就查出硬件地址并写入MAC帧，然后发送</li>
<li>如果无就进行下面步骤</li>
</ul>
</li>
<li><p>广播发送ARP请求分组，内容为<strong>自身IP地址、自身硬件地址、想知道IP地址为xxx的主机的硬件地址</strong></p>
<ul>
<li>写入自身信息是便于以后主机B向主机A发送数据报</li>
</ul>
</li>
<li><p>IP地址一致的主机B收下ARP请求分组，并发送ARP响应分组，内容是<strong>自身IP地址、自身硬件地址</strong></p>
<ul>
<li>ARP响应分组是单播</li>
</ul>
</li>
<li><p>主机A收到ARP响应分组后就写入ARP高速缓存 </p>
</li>
</ol>
<p>主机发送给<strong>另一个网络</strong>上的另一主机数据报时，应该先找到相应的路由器进行转发，这时<u>需要把路由器的IP地址解析为硬件地址</u></p>
<p>为了使设备与另一网络上的零一设备通信，必须提供<strong>默认网关</strong></p>
<ul>
<li><strong>默认网关就是路由器连接到源主机所在网段的接口的IP地址</strong></li>
</ul>
<p>ARP四种典型情况：<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zMS5heDF4LmNvbS8yMDE4LzExLzIwL0Y5TlRITy5qcGc?x-oss-process=image/format,png#shadow" alt="网络层（七）地址解析协议ARP_数学家是我理想的博客-CSDN博客"></p>
<ol>
<li><p>主机$H_1$发送数据报到同一网络上的另一主机$H_2$。这时$H_1$发送ARP请求分组，找到$H_2$的硬件地址</p>
</li>
<li><p>主机$H_1$发送数据报到零一网络上的另一主机$H_3$或$H_4$，这时$H_1$发送ARP请求分组，找到路由器$R_1$的硬件地址，剩下的交给$R_1$，即下面的3和4</p>
</li>
<li><p>路由器$R_1$把数据报转发到与$R_1$相连的网2的主机$H_3$，这时$R_1$发送ARP请求分组，找到$H_3$的硬件地址</p>
</li>
<li><p>$R_1$要把数据报发送到网3上的主机$H_4$，这时$R_4$发送ARP请求分组，找到$R_2$的硬件地址，剩下的交给$R_2$</p>
</li>
</ol>
<h2 id="网络层设备"><a href="#网络层设备" class="headerlink" title="网络层设备"></a>网络层设备</h2><h3 id="面向连接的网络服务"><a href="#面向连接的网络服务" class="headerlink" title="面向连接的网络服务"></a>面向连接的网络服务</h3><p>在任何发送数据的行为之前，要先建立好连接，协商好参数才会开始传输，所有数据<strong>有序传输</strong></p>
<ul>
<li>网络情况导致数据出现问题，需要<strong>接收方进行一定处理</strong>来保证数据正确</li>
<li>传输过程要保持连接距离，只有完成传输才能断开连接</li>
<li>传输比较可靠，代价高</li>
</ul>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625100703902.png" alt=""></p>
<h3 id="无连接的网络服务"><a href="#无连接的网络服务" class="headerlink" title="无连接的网络服务"></a>无连接的网络服务</h3><p>不要求发送方和及受访在发送前先建立一个连接，分别对待每一个数据包，系统不需要进行大量的数据保留，不需要很多的缓存</p>
<ul>
<li>局域网使用比较多，<strong>可靠性比较低，不处理报文丢失</strong></li>
<li>少量报文使用无连接可以调高效率（可靠网）</li>
</ul>
<p><strong>IP就是提供无连接的网络服务</strong><br><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625100711032.png" alt=""></p>
<h3 id="电路交换-Circuit-Switched"><a href="#电路交换-Circuit-Switched" class="headerlink" title="电路交换(Circuit Switched)"></a>电路交换(Circuit Switched)</h3><p>电路交换要先建立一个虚电路关系，之后报文走对应的虚电路</p>
<ul>
<li>所有数据包<strong>依次</strong>在同一虚拟通道上传播<ul>
<li>电路利用效率低</li>
<li>可能是分段建立，可能局部可以复用，但是<strong>整体不可以复用</strong></li>
</ul>
</li>
<li>虚电路强于面向连接，传输更可靠，<strong>保证传输先后关系</strong></li>
</ul>
<h3 id="报文交换-Packet-Switched"><a href="#报文交换-Packet-Switched" class="headerlink" title="报文交换(Packet Switched"></a>报文交换(Packet Switched</h3><p>当数据包从源传递到目标时，它们可以：</p>
<ol>
<li>切换到其他路径（根据当前的网络情况，进行路由选择）</li>
<li>乱序到达</li>
</ol>
<p><strong>将原始数据分为很多子报文，每个子报文自己选择路径进行发送</strong></p>
<ul>
<li>设备根据<strong>各种标准</strong>为每个数据包<strong>确定路径</strong>，某些标准可能因分组而异 </li>
<li>大部分无连接网络都是基于报文交换实现的，可以控制网络拥塞</li>
<li>出现问题时只需要重传对应部分的报文</li>
</ul>
<h2 id="网络协议操作"><a href="#网络协议操作" class="headerlink" title="网络协议操作"></a>网络协议操作</h2><p>被动路由协议用于路由器之间，保证路由器之间连通</p>
<p>主动路由用于做各自路由表的生成，路由器彼此交换信息</p>
<blockquote>
<p>routed protocol是用来使用路由表的<br>routing protocol是用来生成路由表的<br>routing protocol决定routed protocol</p>
</blockquote>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625100734720.png" alt=""></p>
<ul>
<li>存在冗余，A转发给B是由当前网络状况处理</li>
<li>ABC之间都是通过帧来今进行计算的</li>
</ul>
<h3 id="被动可路由协议Routed-protocol"><a href="#被动可路由协议Routed-protocol" class="headerlink" title="被动可路由协议Routed protocol"></a>被动可路由协议Routed protocol</h3><p>路由协议或可路由协议是<u>为网络层提供支持的协议</u></p>
<ul>
<li>IP是网络层协议，因此它可以通过互联网进行路由(routed)</li>
</ul>
<h3 id="不可路由协议Non-routable-protocol"><a href="#不可路由协议Non-routable-protocol" class="headerlink" title="不可路由协议Non-routable protocol"></a>不可路由协议Non-routable protocol</h3><p>不可路由协议是<u>不支持第三层的协议</u>，最常见的是NetBEUI</p>
<ul>
<li>直接根据目的方的地址在局域网中进行生成定位</li>
<li><strong>跨局域网也不支持第三层</strong></li>
<li><strong>NetBEUI仅限于在一个网段上运行</strong></li>
</ul>
<p>routing protocol是主动可路由协议也就是Dynamic routes</p>
<p><strong>被动可路由协议的寻址：</strong></p>
<p>将目的主机和子网掩码进行逻辑与运算得到对应的网段，然后请求路由表可以发现某个端口为目的网段，接着将报文封装转发给对应的主机</p>
<ul>
<li>路由表存储在内存中</li>
</ul>
<p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/44.png" alt=""><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/45.png" alt=""></p>
<h3 id="路由协议的分类"><a href="#路由协议的分类" class="headerlink" title="路由协议的分类"></a>路由协议的分类</h3><ol>
<li><p><strong>静态路由</strong>：<br>网络管理员在路由器中手动输入路由信息</p>
<ul>
<li>用于<strong>隐藏</strong>部分网络，安全（不进行路由表交换）</li>
<li>测试网络中的特定链接</li>
<li>用于仅在到达目标网络的路径时维护路由表</li>
</ul>
</li>
<li><p><strong>动态路由</strong>：<br>路由器在运行过程中互相学习信息，<strong>使用路由协议更新路由信息</strong>，如RIP、IGRP、EIGRP、OSPF等，人工维护代价比较大</p>
<ul>
<li>维护路由表</li>
<li>以路由更新的形式即使分发信息</li>
<li>路由器可以调整以适应不停变化的网络状况</li>
<li>打开后会启动进程，按照不同的协议和网上的不同设备学习信息，然后根据<strong>算法</strong>生成路由表</li>
</ul>
</li>
</ol>
<p>主动路由协议Routing protocol也是动态路由</p>
<ul>
<li>路由协议确定路由协议遵循的到达目的地的路径</li>
<li>用来构建路由表</li>
<li>公平、简单、适应变化</li>
</ul>
<h3 id="动态路由协议分类"><a href="#动态路由协议分类" class="headerlink" title="动态路由协议分类"></a>动态路由协议分类</h3><ol>
<li><p><strong>内部网关协议</strong>(Interior Gateway Protocols)：</p>
<p> 例如RIP，IGRP，EIGRP，OSPF等，可在自治系统中使用</p>
<ul>
<li>自治系统是<strong>逻辑</strong>的划分，而不是物理层次的划分</li>
<li><p>IGP是内部确定的管理规则</p>
<p>分类：</p>
</li>
</ul>
<ol>
<li><p><strong>距离矢量协议DVP</strong>(Distance-Vector Protocols)</p>
<p> 例如RIP、IGRP</p>
<ul>
<li>从<strong>邻居</strong>的角度查看网络拓扑（不是全局）</li>
<li>在路由器之间添加距离向量（根据跳数决定和）</li>
<li>经常会定期更新</li>
<li><p>将路由表<strong>副本</strong>传递到邻居路由器</p>
<p>示例：<br><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625100916810.png" alt=""></p>
<ul>
<li>只知道最少跳数（<strong>不知道最佳路径</strong>）</li>
<li>定时路由表会相互交换给邻居</li>
</ul>
<p><strong>DVP的代表RIP</strong>(Routing Information Protocol)：</p>
<p>基于距离矢量的内部网关协议，<u>唯一指标是跳数</u>，选择<strong>走跳数最短的路径</strong>而非最快的路径，最受欢迎</p>
<ul>
<li>最大跳数是15</li>
<li><strong>每30秒更新一次（广播），可以修改</strong></li>
<li>RIP v2是RIP v1的改进版本，更加常用</li>
</ul>
<p><strong>IGRP</strong>(Interior Gateway Routing Protocol) 和 <strong>EIGRP</strong>(Enhanced IGRP)：</p>
<p>基于距离矢量的内部网关协议，指标由<strong>带宽、负载、延迟、可靠性组成</strong>，EIGRP是IGRP的高级版本，它是<strong>混合</strong>路由协议（不全根据跳数计算）</p>
<ul>
<li>IGRP最大跳数为255</li>
<li>每90秒更新一次</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>链路状态协议LSP</strong>(Link State Protocols)</p>
<p> 例如OSPF</p>
<ul>
<li>获取整个网络拓扑的通用视图（全局）</li>
<li>计算到其他路由器的最短路径</li>
<li>事件触发的更新</li>
<li><p>将链路状态路由更新传递给其他路由器</p>
<p>LSP操作过程：</p>
</li>
</ul>
<ol>
<li>相互交换彼此学到对应的Topological Database（全局）</li>
<li>使用SPF算法，以自己为根，通过最短路径优先算法，生成以自己为根的树</li>
<li><p>根据这一个树再生成路由表，逻辑是树的逻辑</p>
<p>示例：<br><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220625100932511.png" alt=""></p>
<ul>
<li>彼此交换连接状态</li>
<li>LSP不是定时进行交换的，而是初始的时候进行交换，稳定之后根据事件触发的时候才会更新数据<ul>
<li>更新后发送给所有路由器，需要将Database发送给所有路由器</li>
<li>根据Database更新自己的树，然后再次生成路由表</li>
</ul>
</li>
<li>从所有可达的道路上找到<strong>代价最小</strong>的路径</li>
</ul>
<p><strong>LSP的代表OSPF</strong>(Open Shortest Path First)</p>
<ul>
<li>最短路径优先协议</li>
<li>本科阶段指标只考虑<strong>带宽</strong>  </li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
<li><p><strong>外部网关协议</strong>(Exterior Gateway Protocols)：例如EGP、BGP，<strong>用于自制形同之间路由数据报</strong></p>
<ul>
<li>通过BGP，让其他自治系统了解自己的自治系统中的网段（不同系统）</li>
</ul>
</li>
</ol>
<h2 id="因特网控制报文协议ICMP"><a href="#因特网控制报文协议ICMP" class="headerlink" title="因特网控制报文协议ICMP"></a>因特网控制报文协议ICMP</h2><p>ICMP为了提高IP数据报交付成功的机会，允许主机或路由器<strong>报告差错情况和提供有关异常情况的报告</strong>，一般路由器在丢弃报文的时候，都会返回一个ICMP差错报文</p>
<ul>
<li>ICMP报文作为IP层数据报的数据，加上数据报的首部，组成IP数据报发送出去</li>
<li>ICMP只是IP层的协议</li>
</ul>
<p>ICMP报文格式：<br><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20230721111746804.png" alt=""></p>
<p>数据字段如下：</p>
<ol>
<li>一般会把原始的 IP 数据报文的数据报首部 + 8 字节（数据的，可能会包含端口信息）作为 ICMP 的数据部分</li>
<li>ICMP 的前 8 个字节的是确定的（前 4 个字节是类型，校验位，后面四个字节是确定的）</li>
<li>然后添加一个首部作为 IP 数据报进行发送。<br><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20230721111803208.png" alt=""></li>
</ol>
<p>两种ICMP报文：<br><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20230721111752377.png" alt=""></p>
<ul>
<li><strong>查询报文</strong>：不是很多</li>
<li><strong>差错报告报文</strong>：比较多</li>
</ul>
<h3 id="目的站不可到达"><a href="#目的站不可到达" class="headerlink" title="目的站不可到达"></a>目的站不可到达</h3><ol>
<li><strong>网络</strong>不可到达（net unreachable）</li>
<li><strong>主机</strong>不可到达（host unreachable）</li>
<li><strong>协议</strong>不可到达（protocol unreachable）</li>
<li><strong>端口</strong>不可到达（port unreachable）</li>
<li><strong>源路由选择</strong>不能完成（source route failed）</li>
<li>目的网络<strong>不可知</strong>（unknown destination network）</li>
<li>目的主机<strong>不可知</strong>（unknown destination host）</li>
<li>不可知是完全不可以解析，不可达是可以解析但是不可以到达</li>
</ol>
<p><strong>下面几种情况不应该发送ICMP差错报文</strong>：</p>
<ol>
<li>对ICMP差错报文不再发送</li>
<li>对第一个分片的数据报片的所有后续数据报片</li>
<li>对具有多播地址的数据报</li>
<li>对具有特殊地址的数据报 </li>
</ol>
<h3 id="PING-Packet-InterNet-Groper"><a href="#PING-Packet-InterNet-Groper" class="headerlink" title="PING(Packet InterNet Groper)"></a>PING(Packet InterNet Groper)</h3><ol>
<li>PING 用来测试两个主机之间的连通性，一般是用来检查局域网的连通性：PING 不通，<u>不仅仅是发送不过去，有可能是应答不回来</u></li>
<li>PING 使用了<strong>ICMP 回送请求与回送回答报文</strong></li>
<li>PING 是应用层直接使用网络层 ICMP 的例子，它没有通过运输层的 TCP 或 UDP</li>
</ol>
<h2 id="不同设备"><a href="#不同设备" class="headerlink" title="不同设备"></a>不同设备</h2><p><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220422114841185.png" alt=""><br><img src="https://eaglebear2002.github.io/2022Spring-%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97/%E4%BA%92%E8%81%94%E7%BD%91%E8%AE%A1%E7%AE%97-04-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8E%9F%E7%90%86%E4%B8%8E%E6%8A%80%E6%9C%AF/image-20220422115043148.png" alt=""></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">花花花铃</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">155k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">4:42</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">
    <!--由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动 -->
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
